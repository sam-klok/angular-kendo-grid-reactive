/**-----------------------------------------------------------------------------------------
* Copyright © 2021 Progress Software Corporation. All rights reserved.
* Licensed under commercial license. See LICENSE.md in the project root for more information
*-------------------------------------------------------------------------------------------*/
!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@progress/kendo-draggable"),require("@angular/common"),require("rxjs/operators"),require("rxjs")):"function"==typeof define&&define.amd?define("KendoAngularCommon",["exports","@angular/core","@progress/kendo-draggable","@angular/common","rxjs/operators","rxjs"],t):t((e="undefined"!=typeof globalThis?globalThis:e||self).KendoAngularCommon={},e.ng.core,e.KendoDraggable,e.ng.common,e.rxjs.operators,e.rxjs)}(this,function(e,o,M,t,N,r){"use strict";function R(n){var r;return n&&n.__esModule?n:(r=Object.create(null),n&&Object.keys(n).forEach(function(e){var t;"default"!==e&&(t=Object.getOwnPropertyDescriptor(n,e),Object.defineProperty(r,e,t.get?t:{enumerable:!0,get:function(){return n[e]}}))}),r.default=n,Object.freeze(r))}function n(){return"undefined"!=typeof document}function i(e,t,n){return void 0===n&&(n=!0),!(void 0===t[e]||t[e].isFirstChange()&&n||t[e].previousValue===t[e].currentValue)}var s=R(o),T=function(){return n()&&document.createElement};function a(){var e,t=0;return T()&&((e=document.createElement("div")).style.cssText="overflow:scroll;overflow-x:hidden;zoom:1;clear:both;display:block",e.innerHTML="&nbsp;",document.body.appendChild(e),t=e.offsetWidth-e.scrollWidth,document.body.removeChild(e)),t}p.prototype.ngOnInit=function(){this.toggleDraggable()},p.prototype.ngOnChanges=function(e){i("enableDrag",e)&&this.toggleDraggable()},p.prototype.ngOnDestroy=function(){this.destroyDraggable()},p.prototype.toggleDraggable=function(){var t=this;n()&&(this.destroyDraggable(),this.enableDrag)&&(this.draggable=new M.Draggable({drag:function(e){return t.kendoDrag.next(e)},press:function(e){return t.kendoPress.next(e)},release:function(e){return t.kendoRelease.next(e)}}),this.ngZone.runOutsideAngular(function(){return t.draggable.bindTo(t.element.nativeElement)}))},p.prototype.destroyDraggable=function(){this.draggable&&(this.draggable.destroy(),this.draggable=null)};var c=p;function p(e,t){this.element=e,this.ngZone=t,this.enableDrag=!0,this.kendoPress=new o.EventEmitter,this.kendoDrag=new o.EventEmitter,this.kendoRelease=new o.EventEmitter}c.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:c,deps:[{token:s.ElementRef},{token:s.NgZone}],target:s.ɵɵFactoryTarget.Directive}),c.ɵdir=s.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"12.2.16",type:c,selector:"[kendoDraggable]",inputs:{enableDrag:"enableDrag"},outputs:{kendoPress:"kendoPress",kendoDrag:"kendoDrag",kendoRelease:"kendoRelease"},usesOnChanges:!0,ngImport:s}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:c,decorators:[{type:o.Directive,args:[{selector:"[kendoDraggable]"}]}],ctorParameters:function(){return[{type:s.ElementRef},{type:s.NgZone}]},propDecorators:{enableDrag:[{type:o.Input}],kendoPress:[{type:o.Output}],kendoDrag:[{type:o.Output}],kendoRelease:[{type:o.Output}]}});function l(e,t){for(;e&&!t(e);)e=e.parentNode;return e}function u(e,t,n){if(void 0===n&&(n=!0),e){if(n&&t(e))return e;for(e=e.firstChild;e;){if(1===e.nodeType){var r=u(e,t);if(r)return r}e=e.nextSibling}}}function d(e,t){var n;return void 0===t&&(t=!0),!!f(e)&&(n=e.getAttribute("tabIndex"),!t||L(e))&&"-1"!==n}function h(e){return String(e).trim().split(" ")}function g(e,t){var n=h(t);return Boolean(h(e.className).find(function(e){return 0<=n.indexOf(e)}))}var y=function(){},Z=(y.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:y,deps:[],target:s.ɵɵFactoryTarget.NgModule}),y.ɵmod=s.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:y,declarations:[c],imports:[t.CommonModule],exports:[c]}),y.ɵinj=s.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:y,imports:[[t.CommonModule]]}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:y,decorators:[{type:o.NgModule,args:[{declarations:[c],exports:[c],imports:[t.CommonModule]}]}]}),/^(?:a|input|select|option|textarea|button|object)$/i),f=function(e){var t,n;return!!e.tagName&&(t=e.tagName.toLowerCase(),n=Boolean(e.getAttribute("tabIndex")),!e.disabled&&Z.test(t)||n)},L=function(e){var t=e.getBoundingClientRect(),n=0<t.width&&0<t.height,t=0!==t.x&&0!==t.y;return(n||t)&&"hidden"!==window.getComputedStyle(e).visibility},m={};v.prototype.ngOnInit=function(){var t,n=this;this.element&&this.element.nativeElement&&(t=this.events,this.subscriptions=[],this.ngZone.runOutsideAngular(function(){for(var e in t)t.hasOwnProperty(e)&&n.subscriptions.push(n.renderer.listen(n.element.nativeElement,e,n.scope?t[e].bind(n.scope):t[e]))}))},v.prototype.ngOnDestroy=function(){if(this.subscriptions){for(var e=0;e<this.subscriptions.length;e++)this.subscriptions[e]();this.subscriptions=null}};t=v;function v(e,t,n){this.element=e,this.ngZone=t,this.renderer=n,this.events={}}t.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:t,deps:[{token:s.ElementRef},{token:s.NgZone},{token:s.Renderer2}],target:s.ɵɵFactoryTarget.Directive}),t.ɵdir=s.ɵɵngDeclareDirective({minVersion:"12.0.0",version:"12.2.16",type:t,selector:"[kendoEventsOutsideAngular]",inputs:{events:["kendoEventsOutsideAngular","events"],scope:"scope"},ngImport:s}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:t,decorators:[{type:o.Directive,args:[{selector:"[kendoEventsOutsideAngular]"}]}],ctorParameters:function(){return[{type:s.ElementRef},{type:s.NgZone},{type:s.Renderer2}]},propDecorators:{events:[{type:o.Input,args:["kendoEventsOutsideAngular"]}],scope:[{type:o.Input}]}});var b=function(){},B=(b.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:b,deps:[],target:s.ɵɵFactoryTarget.NgModule}),b.ɵmod=s.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:b,declarations:[t],exports:[t]}),b.ɵinj=s.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:b}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:b,decorators:[{type:o.NgModule,args:[{declarations:[t],exports:[t]}]}]}),function(e,t){return(B=Object.setPrototypeOf||({__proto__:[]}instanceof Array?function(e,t){e.__proto__=t}:function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])}))(e,t)});function W(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function n(){this.constructor=e}B(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}Object.create;Object.create;K.prototype.acceptSize=function(e){void 0===e&&(e=this.measure()),this.lastWidth=e.width,this.lastHeight=e.height,this.acceptedSize=!0},K.prototype.checkChanges=function(){n()&&0===this.state&&(this.state=1,this.resizeBatchService.schedule(this,this.init))},K.prototype.destroy=function(){this.resizeBatchService.cancel(this)},K.prototype.checkSize=function(){if(this.parentElement){var e=this.measure(),t=e.width,e=e.height,n=t===this.lastWidth&&e===this.lastHeight;if(!n)return this.lastWidth=t,this.lastHeight=e,this.acceptedSize=!1,this.resize.emit(),!0}},K.prototype.initSize=function(){var e=this.measure();this.lastWidth=e.width,this.lastHeight=e.height},K.prototype.measure=function(){var e=0,t=0;return this.parentElement&&(t=this.parentElement.offsetHeight,e=this.parentElement.offsetWidth),{height:t,width:e}};var D=K;function K(e){this.resizeBatchService=e,this.resize=new o.EventEmitter,this.acceptedSize=!1,this.state=0}function E(e){var t=document.createElement("div");return t.style.cssText=e,t}var k,C="position: absolute; display: block; left: 0; top: 0; right: 0; bottom: 0; z-index: -1;overflow: hidden; visibility: hidden;",_="position: absolute; left: 0; top: 0; transition: 0s;",H=(W(I,k=D),I.prototype.checkChanges=function(){2===this.state?this.resizeBatchService.isScheduled(this)||this.resizeBatchService.schedule(this,this.checkSize):k.prototype.checkChanges.call(this)},I.prototype.destroy=function(){var e;k.prototype.destroy.call(this),this.subscription&&this.subscription.unsubscribe(),this.expand&&((e=this.element.nativeElement).removeChild(this.expand),e.removeChild(this.shrink),this.expand.removeChild(this.expandChild),this.expand=this.expandChild=this.shrink=this.element=null)},I.prototype.checkSize=function(){if(k.prototype.checkSize.call(this))return this.reset(),!0},I.prototype.init=function(){var e,t=this.parentElement=this.element.nativeElement.parentElement;"static"===(e="position",getComputedStyle(t,null).getPropertyValue(e))&&(t.style.position="relative"),this.state=2,this.render(),this.reset(),this.initSize(),this.subscribe()},I.prototype.render=function(){var e=this.element.nativeElement,t=(e.style.cssText=C,e.setAttribute("dir","ltr"),this.expand=E(C),this.expandChild=E(_),this.expand.appendChild(this.expandChild),e.appendChild(this.expand),this.shrink=E(C),E("position: absolute; left: 0; top: 0; transition: 0s;width: 200%; height: 200%;"));this.shrink.appendChild(t),e.appendChild(this.shrink)},I.prototype.reset=function(){var e=this.expandChild,e=(e.style.width=1e5+"px",e.style.height=1e5+"px",this.expand),e=(e.scrollLeft=1e5,e.scrollTop=1e5,this.shrink);e.scrollLeft=1e5,e.scrollTop=1e5},I.prototype.subscribe=function(){var e=this;this.ngZone.runOutsideAngular(function(){e.subscription=r.merge(r.fromEvent(e.shrink,"scroll"),r.fromEvent(e.expand,"scroll")).subscribe(function(){e.checkSize()})})},I);function I(e,t,n){e=k.call(this,e)||this;return e.element=t,e.ngZone=n,e}var z,U="undefined"!=typeof ResizeObserver,S=(W(O,z=D),O.supported=function(){return U},O.prototype.destroy=function(){z.prototype.destroy.call(this),this.resizeObserver&&(this.resizeObserver.disconnect(),this.resizeObserver=null),this.parentElement=null},O.prototype.init=function(){var e=this;this.parentElement=this.element.nativeElement.parentElement,this.initSize(),this.state=2,this.ngZone.runOutsideAngular(function(){e.resizeObserver=new ResizeObserver(function(){e.checkSize()}),e.resizeObserver.observe(e.parentElement)})},O);function O(e,t,n){e=z.call(this,e)||this;return e.element=t,e.ngZone=n,e}w.prototype.schedule=function(e,t){var n=this;this.scheduled.push({instance:e,method:t}),this.subscription||this.ngZone.runOutsideAngular(function(){n.subscription=r.from(n.resolvedPromise).subscribe(n.flush)})},w.prototype.isScheduled=function(t){return Boolean(this.scheduled.find(function(e){return e.instance===t}))},w.prototype.cancel=function(e){for(var t=this.scheduled,n=t.length,r=0;r<n;r++)if(t[r].instance===e)return t.splice(r,1),void(t.length||this.unsubscribe())},w.prototype.ngOnDestroy=function(){this.unsubscribe()},w.prototype.unsubscribe=function(){this.subscription&&(this.subscription.unsubscribe(),this.subscription=null)},w.prototype.flush=function(){this.scheduled.forEach(function(e){e.method.call(e.instance)}),this.scheduled=[],this.unsubscribe()};var x=w;function w(e){this.ngZone=e,this.scheduled=[],this.resolvedPromise=Promise.resolve(null),this.flush=this.flush.bind(this)}x.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:x,deps:[{token:s.NgZone}],target:s.ɵɵFactoryTarget.Injectable}),x.ɵprov=s.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:x}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:x,decorators:[{type:o.Injectable}],ctorParameters:function(){return[{type:s.NgZone}]}});V.prototype.ngAfterViewChecked=function(){this.resizeService.checkChanges()},V.prototype.ngOnDestroy=function(){this.subscription.unsubscribe(),this.resizeService.destroy()},V.prototype.acceptSize=function(e){this.resizeService.acceptSize(e)};D=V;function V(e,t,n){var r=this,i=(this.rateLimit=10,this.resize=new o.EventEmitter,S.supported()?S:H),i=(this.resizeService=new i(e,t,n),1e3/(this.rateLimit||10));this.subscription=this.resizeService.resize.pipe(N.auditTime(i)).subscribe(function(){r.resizeService.acceptedSize||r.resize.emit()})}D.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:D,deps:[{token:x},{token:s.ElementRef},{token:s.NgZone}],target:s.ɵɵFactoryTarget.Component}),D.ɵcmp=s.ɵɵngDeclareComponent({minVersion:"12.0.0",version:"12.2.16",type:D,selector:"kendo-resize-sensor",inputs:{rateLimit:"rateLimit"},outputs:{resize:"resize"},ngImport:s,template:"",isInline:!0}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:D,decorators:[{type:o.Component,args:[{selector:"kendo-resize-sensor",template:""}]}],ctorParameters:function(){return[{type:x},{type:s.ElementRef},{type:s.NgZone}]},propDecorators:{rateLimit:[{type:o.Input}],resize:[{type:o.Output}]}});function q(){}var j=[D],A=function(){},j=(A.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:A,deps:[],target:s.ɵɵFactoryTarget.NgModule}),A.ɵmod=s.ɵɵngDeclareNgModule({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:A,declarations:[D],exports:[D]}),A.ɵinj=s.ɵɵngDeclareInjector({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:A,providers:[x]}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:A,decorators:[{type:o.NgModule,args:[{declarations:[j],exports:[j],providers:[x]}]}]}),e.Keys=void 0,(j=e.Keys||(e.Keys={}))[j.Alt=18]="Alt",j[j.ArrowDown=40]="ArrowDown",j[j.ArrowLeft=37]="ArrowLeft",j[j.ArrowRight=39]="ArrowRight",j[j.ArrowUp=38]="ArrowUp",j[j.Backspace=8]="Backspace",j[j.Control=17]="Control",j[j.Delete=46]="Delete",j[j.Digit0=48]="Digit0",j[j.Digit1=49]="Digit1",j[j.Digit2=50]="Digit2",j[j.Digit3=51]="Digit3",j[j.Digit4=52]="Digit4",j[j.Digit5=53]="Digit5",j[j.Digit6=54]="Digit6",j[j.Digit7=55]="Digit7",j[j.Digit8=56]="Digit8",j[j.Digit9=57]="Digit9",j[j.End=35]="End",j[j.Enter=13]="Enter",j[j.Escape=27]="Escape",j[j.F1=112]="F1",j[j.F2=113]="F2",j[j.F10=121]="F10",j[j.Home=36]="Home",j[j.Insert=45]="Insert",j[j.KeyA=65]="KeyA",j[j.KeyB=66]="KeyB",j[j.KeyC=67]="KeyC",j[j.KeyD=68]="KeyD",j[j.KeyE=69]="KeyE",j[j.KeyF=70]="KeyF",j[j.KeyG=71]="KeyG",j[j.KeyH=72]="KeyH",j[j.KeyI=73]="KeyI",j[j.KeyJ=74]="KeyJ",j[j.KeyK=75]="KeyK",j[j.KeyL=76]="KeyL",j[j.KeyM=77]="KeyM",j[j.KeyN=78]="KeyN",j[j.KeyO=79]="KeyO",j[j.KeyP=80]="KeyP",j[j.KeyQ=81]="KeyQ",j[j.KeyR=82]="KeyR",j[j.KeyS=83]="KeyS",j[j.KeyT=84]="KeyT",j[j.KeyU=85]="KeyU",j[j.KeyV=86]="KeyV",j[j.KeyW=87]="KeyW",j[j.KeyX=88]="KeyX",j[j.KeyY=89]="KeyY",j[j.KeyZ=90]="KeyZ",j[j.NumpadDecimal=110]="NumpadDecimal",j[j.PageDown=34]="PageDown",j[j.PageUp=33]="PageUp",j[j.Shift=16]="Shift",j[j.Space=32]="Space",j[j.Tab=9]="Tab",P.prototype.preventDefault=function(){this.prevented=!0},P.prototype.isDefaultPrevented=function(){return this.prevented},P);function P(){this.prevented=!1}var F=function(){this.changes=new o.EventEmitter,"undefined"!=typeof window&&n()&&document.body.style.setProperty("--kendo-scrollbar-width",a()+"px")};F.ɵfac=s.ɵɵngDeclareFactory({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:F,deps:[],target:s.ɵɵFactoryTarget.Injectable}),F.ɵprov=s.ɵɵngDeclareInjectable({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:F,providedIn:"root"}),s.ɵɵngDeclareClassMetadata({minVersion:"12.0.0",version:"12.2.16",ngImport:s,type:F,decorators:[{type:o.Injectable,args:[{providedIn:"root"}]}],ctorParameters:function(){return[]}}),e.DraggableDirective=c,e.DraggableModule=y,e.EventsModule=b,e.EventsOutsideAngularDirective=t,e.KendoInput=q,e.PreventableEvent=j,e.ResizeBatchService=x,e.ResizeCompatService=H,e.ResizeObserverService=S,e.ResizeSensorComponent=D,e.ResizeSensorModule=A,e.ScrollbarWidthService=F,e.anyChanged=function(e,t,n){return void 0===n&&(n=!0),e.some(function(e){return i(e,t,n)})},e.closest=l,e.closestInScope=function(e,t,n){for(;e&&e!==n&&!t(e);)e=e.parentNode;if(e!==n)return e},e.contains=function(t,n,e){var r;return void 0===e&&(e=!1),!!l(n,function(e){return e===t})&&(r=l(n,function(e){return e===n}))&&(e||r!==t)},e.findElement=u,e.findFocusable=function(e,t){return void 0===t&&(t=!0),u(e,function(e){return d(e,t)})},e.findFocusableChild=function(e,t){return void 0===t&&(t=!0),u(e,function(e){return d(e,t)},!1)},e.getScrollbarWidth=a,e.guid=function(){for(var e="",t=0;t<32;t++){var n=16*Math.random()|0;8!==t&&12!==t&&16!==t&&20!==t||(e+="-"),e+=(12===t?4:16===t?3&n|8:n).toString(16)}return e},e.hasClasses=g,e.hasObservers=function(e){return e&&0<e.observers.length},e.isChanged=i,e.isDocumentAvailable=n,e.isFocusable=f,e.isFocusableWithTabKey=d,e.isVisible=L,e.matchesClasses=function(t){return function(e){return g(e,t)}},e.matchesNodeName=function(t){return m[t]||(m[t]=function(e){return String(e.nodeName).toLowerCase()===t.toLowerCase()}),m[t]},e.rtlScrollPosition=function(e,t,n){var r=e;return n<0?r=-e:0<n&&(r=t.scrollWidth-t.offsetWidth-e),r},Object.defineProperty(e,"__esModule",{value:!0})});