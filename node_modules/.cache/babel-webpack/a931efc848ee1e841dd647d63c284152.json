{"ast":null,"code":"/**-----------------------------------------------------------------------------------------\n* Copyright © 2021 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Inject, Optional, EventEmitter, isDevMode, Component, Input, Output, ViewChild, TemplateRef, NgModule } from '@angular/core';\nimport { siblingContainer, parents, addScroll, align, boundingOffset, offset, positionWithScroll, removeScroll, restrictToView, scrollPosition, getWindowViewPort } from '@progress/kendo-popup-common';\nimport * as i7 from '@progress/kendo-angular-common';\nimport { isDocumentAvailable, hasObservers, ResizeSensorComponent, ResizeSensorModule } from '@progress/kendo-angular-common';\nimport { fromEvent, merge, from } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport * as i1 from '@angular/animations';\nimport { style, animate } from '@angular/animations';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport * as i8 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n/**\n * @hidden\n */\n\nconst _c0 = [\"container\"];\n\nfunction PopupComponent_ng_template_3_Template(rf, ctx) {}\n\nconst _c1 = [\"*\"];\n\nconst eitherRect = (rect, offset) => {\n  if (!rect) {\n    return {\n      height: 0,\n      left: offset.left,\n      top: offset.top,\n      width: 0\n    };\n  }\n\n  return rect;\n};\n/**\n * @hidden\n */\n\n\nconst replaceOffset = (rect, offset) => {\n  if (!offset) {\n    return rect;\n  }\n\n  const result = {\n    height: rect.height,\n    left: offset.left,\n    top: offset.top,\n    width: rect.width\n  };\n  return result;\n};\n/**\n * @hidden\n */\n\n\nconst removeStackingOffset = (rect, stackingOffset) => {\n  if (!stackingOffset) {\n    return rect;\n  }\n\n  const result = {\n    height: rect.height,\n    left: rect.left - stackingOffset.left,\n    top: rect.top - stackingOffset.top,\n    width: rect.width\n  };\n  return result;\n};\n/**\n * @hidden\n */\n\n\nconst isDifferentOffset = (oldOffset, newOffset) => {\n  const {\n    left: oldLeft,\n    top: oldTop\n  } = oldOffset;\n  const {\n    left: newLeft,\n    top: newTop\n  } = newOffset;\n  return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\n\n\nconst isWindowAvailable = () => {\n  return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\n\n\nconst hasBoundingRect = elem => !!elem.getBoundingClientRect;\n/**\n * @hidden\n */\n\n\nconst OVERFLOW_REGEXP = /auto|scroll/;\n\nconst overflowElementStyle = element => {\n  return `${element.style.overflow}${element.style.overflowX}${element.style.overflowY}`;\n};\n\nconst overflowComputedStyle = element => {\n  const styles = window.getComputedStyle(element);\n  return `${styles.overflow}${styles.overflowX}${styles.overflowY}`;\n};\n\nconst overflowStyle = element => {\n  return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\n\n\nconst scrollableParents = element => {\n  const parentElements = [];\n\n  if (!isDocumentAvailable() || !isWindowAvailable()) {\n    return parentElements;\n  }\n\n  let parent = element.parentElement;\n\n  while (parent) {\n    if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n      parentElements.push(parent);\n    }\n\n    parent = parent.parentElement;\n  }\n\n  parentElements.push(window);\n  return parentElements;\n};\n/**\n * @hidden\n */\n\n\nconst FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\n\nfunction memoize(fun) {\n  let result;\n  let called = false;\n  return (...args) => {\n    if (called) {\n      return result;\n    }\n\n    result = fun(...args);\n    called = true;\n    return result;\n  };\n}\n/**\n * @hidden\n */\n\n\nconst hasRelativeStackingContext = memoize(() => {\n  if (!isDocumentAvailable() && document.body !== null) {\n    return false;\n  }\n\n  const top = 10;\n  const parent = document.createElement(\"div\");\n  parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n  parent.innerHTML = `<div style=\"position: fixed; top: ${top}px;\">child</div>`;\n  document.body.appendChild(parent);\n  const isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n  document.body.removeChild(parent);\n  return isDifferent;\n});\n/**\n * @hidden\n */\n\nconst zIndex = (anchor, container) => {\n  if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n    return null;\n  }\n\n  const sibling = siblingContainer(anchor, container);\n\n  if (!sibling) {\n    return null;\n  }\n\n  const result = [anchor].concat(parents(anchor, sibling)).reduce((index, p) => {\n    const zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n    const current = parseInt(zIndexStyle, 10);\n    return current > index ? current : index;\n  }, 0);\n  return result ? result + 1 : null;\n};\n/**\n * @hidden\n */\n\n\nconst scaleRect = (rect, scale) => {\n  if (!rect || scale === 1) {\n    return rect;\n  }\n\n  return {\n    height: rect.height / scale,\n    left: rect.left / scale,\n    top: rect.top / scale,\n    width: rect.width / scale\n  };\n};\n/**\n * Used to set the document scale when using a [scale transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale).\n *\n * The document or container scale is required to compute the popup position correctly. Detecting the scale is not reliable and must be set by providing a value for SCALE. See [Support for Document Scale]({% slug documentscale_popup %}).\n *\n * > Using this token is not necessary for user-applied browser zoom.\n *\n * {% meta height:300 %}\n * {% embed_file scale/app.component.ts preview %}\n * {% embed_file shared/app.module.ts %}\n * {% embed_file shared/main.ts %}\n * {% endmeta %}\n *\n *\n */\n\n\nconst SCALE = new InjectionToken('Popup Document Scale');\nconst STYLES = ['font-size', 'font-family', 'font-stretch', 'font-style', 'font-weight', 'line-height'];\n/**\n * @hidden\n */\n\nclass DOMService {\n  addOffset(current, addition) {\n    return {\n      left: current.left + addition.left,\n      top: current.top + addition.top\n    };\n  }\n\n  addScroll(rect, scroll) {\n    return addScroll(rect, scroll);\n  }\n\n  align(settings) {\n    return align(settings);\n  }\n\n  boundingOffset(el) {\n    return boundingOffset(el);\n  }\n\n  getFontStyles(el) {\n    const window = this.getWindow();\n\n    if (!window || !el) {\n      return [];\n    }\n\n    const computedStyles = window.getComputedStyle(el);\n    return STYLES.map(font => ({\n      key: font,\n      value: computedStyles[font]\n    }));\n  }\n\n  getWindow() {\n    return isWindowAvailable() ? window : null;\n  }\n\n  hasOffsetParent(el) {\n    if (!el) {\n      return false;\n    }\n\n    return !!this.nativeElement(el).offsetParent;\n  }\n\n  offset(el) {\n    if (!el) {\n      return null;\n    }\n\n    return offset(el);\n  }\n\n  offsetAtPoint(el, currentLocation) {\n    if (!el) {\n      return null;\n    }\n\n    const element = this.nativeElement(el);\n    const {\n      left,\n      top,\n      transition\n    } = element.style;\n    element.style.transition = 'none';\n    element.style.left = `${currentLocation.left}px`;\n    element.style.top = `${currentLocation.top}px`;\n    const currentOffset = offset(element);\n    element.style.left = left;\n    element.style.top = top; // prevents elements with transition to be animated because of the change\n    // eslint-disable-next-line no-unused-expressions\n\n    element.offsetHeight;\n    element.style.transition = transition;\n    return currentOffset;\n  }\n\n  nativeElement(el) {\n    if (!el) {\n      return null;\n    }\n\n    return el.nativeElement || el;\n  }\n\n  position(element, popup, scale = 1) {\n    if (!element || !popup) {\n      return null;\n    }\n\n    return positionWithScroll(element, this.nativeElement(popup), scale);\n  }\n\n  removeScroll(rect, scroll) {\n    return removeScroll(rect, scroll);\n  }\n\n  restrictToView(settings) {\n    return restrictToView(settings);\n  }\n\n  scrollPosition(el) {\n    return scrollPosition(this.nativeElement(el));\n  }\n\n  scrollableParents(el) {\n    return scrollableParents(el);\n  }\n\n  stackingElementOffset(el) {\n    const relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return null;\n    }\n\n    return offset(relativeContextElement);\n  }\n\n  stackingElementScroll(el) {\n    const relativeContextElement = this.getRelativeContextElement(el);\n\n    if (!relativeContextElement) {\n      return {\n        x: 0,\n        y: 0\n      };\n    }\n\n    return {\n      x: relativeContextElement.scrollLeft,\n      y: relativeContextElement.scrollTop\n    };\n  }\n\n  getRelativeContextElement(el) {\n    if (!el || !hasRelativeStackingContext()) {\n      return null;\n    }\n\n    let parent = this.nativeElement(el).parentElement;\n\n    while (parent) {\n      if (window.getComputedStyle(parent).transform !== 'none') {\n        return parent;\n      }\n\n      parent = parent.parentElement;\n    }\n\n    return null;\n  }\n\n  useRelativePosition(el) {\n    return !!this.getRelativeContextElement(el);\n  }\n\n  windowViewPort(el) {\n    return getWindowViewPort(this.nativeElement(el));\n  }\n\n  zIndex(anchor, container) {\n    return zIndex(anchor, this.nativeElement(container));\n  }\n\n  zoomLevel() {\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n      return 1;\n    }\n\n    return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n  }\n\n  isZoomed() {\n    return this.zoomLevel() > 1;\n  }\n\n}\n\nDOMService.ɵfac = function DOMService_Factory(t) {\n  return new (t || DOMService)();\n};\n\nDOMService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: DOMService,\n  factory: DOMService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(DOMService, [{\n    type: Injectable\n  }], null, null);\n})();\n/**\n * @hidden\n */\n\n\nclass AlignService {\n  constructor(_dom, scale = 1) {\n    this._dom = _dom;\n    this.scale = scale;\n  }\n\n  alignElement(settings) {\n    const {\n      anchor,\n      element,\n      anchorAlign,\n      elementAlign,\n      margin,\n      offset,\n      positionMode\n    } = settings;\n    const scale = this.scale || 1;\n    const fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n    const anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset, scale) : this.relativeRect(anchor, element, offset, scale);\n    const elementRect = scaleRect(this._dom.offset(element.nativeElement), scale);\n\n    const result = this._dom.align({\n      anchorAlign: anchorAlign,\n      anchorRect: anchorRect,\n      elementAlign: elementAlign,\n      elementRect: elementRect,\n      margin\n    });\n\n    return result;\n  }\n\n  absoluteRect(anchor, element, offset, scale) {\n    const scrollPos = this.elementScrollPosition(anchor, element);\n    const rect = eitherRect(this._dom.offset(anchor), offset);\n    const stackScale = 2 * scale;\n\n    const stackScroll = this._dom.stackingElementScroll(element);\n\n    if (scale !== 1 && stackScroll) {\n      stackScroll.x /= stackScale;\n      stackScroll.y /= stackScale;\n    }\n\n    const stackOffset = this._dom.stackingElementOffset(element);\n\n    if (scale !== 1 && stackOffset) {\n      stackOffset.left /= stackScale;\n      stackOffset.top /= stackScale;\n    }\n\n    return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(scaleRect(rect, scale), stackOffset), stackScroll), scrollPos);\n  }\n\n  elementScrollPosition(anchor, element) {\n    return anchor ? {\n      x: 0,\n      y: 0\n    } : this._dom.scrollPosition(element);\n  }\n\n  relativeRect(anchor, element, offset, scale) {\n    const rect = eitherRect(this._dom.position(anchor, element, scale), offset);\n    return scaleRect(rect, scale);\n  }\n\n}\n\nAlignService.ɵfac = function AlignService_Factory(t) {\n  return new (t || AlignService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(SCALE, 8));\n};\n\nAlignService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AlignService,\n  factory: AlignService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AlignService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SCALE]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nclass PositionService {\n  constructor(_dom, scale = 1) {\n    this._dom = _dom;\n    this.scale = scale;\n  }\n\n  positionElement(settings) {\n    const {\n      anchor,\n      currentLocation,\n      element,\n      anchorAlign,\n      elementAlign,\n      collisions,\n      margin\n    } = settings;\n    const dom = this._dom;\n    const scale = this.scale || 1;\n    const elementOffset = dom.offsetAtPoint(element, currentLocation);\n    const elementRect = scaleRect(elementOffset, scale);\n    const anchorOffset = scaleRect(dom.offset(anchor), scale);\n    const anchorRect = eitherRect(anchorOffset, currentLocation);\n    const viewPort = settings.viewPort || dom.windowViewPort(element);\n    viewPort.width = viewPort.width / scale;\n    viewPort.height = viewPort.height / scale;\n    const result = dom.restrictToView({\n      anchorAlign,\n      anchorRect,\n      collisions,\n      elementAlign,\n      elementRect,\n      margin,\n      viewPort\n    });\n    const offset = dom.addOffset(currentLocation, result.offset);\n    return {\n      flip: result.flip,\n      flipped: result.flipped,\n      offset: offset\n    };\n  }\n\n}\n\nPositionService.ɵfac = function PositionService_Factory(t) {\n  return new (t || PositionService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(SCALE, 8));\n};\n\nPositionService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PositionService,\n  factory: PositionService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PositionService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: undefined,\n      decorators: [{\n        type: Inject,\n        args: [SCALE]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nclass ResizeService {\n  constructor(_dom, _zone) {\n    this._dom = _dom;\n    this._zone = _zone;\n  }\n\n  subscribe(callback) {\n    if (!isDocumentAvailable()) {\n      return;\n    }\n\n    this._zone.runOutsideAngular(() => {\n      this.subscription = fromEvent(this._dom.getWindow(), \"resize\").pipe(auditTime(FRAME_DURATION)).subscribe(() => callback());\n    });\n  }\n\n  unsubscribe() {\n    if (!this.subscription) {\n      return;\n    }\n\n    this.subscription.unsubscribe();\n  }\n\n  isUnsubscribed() {\n    return this.subscription && this.subscription.closed;\n  }\n\n}\n\nResizeService.ɵfac = function ResizeService_Factory(t) {\n  return new (t || ResizeService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(i0.NgZone));\n};\n\nResizeService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ResizeService,\n  factory: ResizeService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ResizeService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nconst THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\n\nclass ScrollableService {\n  constructor(_dom, _zone) {\n    this._dom = _dom;\n    this._zone = _zone;\n  }\n\n  forElement(element) {\n    this.unsubscribe();\n    this.element = element;\n    return this;\n  }\n\n  subscribe(callback) {\n    if (!callback || !isDocumentAvailable() || !this.element) {\n      return;\n    }\n\n    const parents = this._dom.scrollableParents(this.element);\n\n    this._zone.runOutsideAngular(() => {\n      const observables = parents.map(p => fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)));\n\n      const subscriber = e => {\n        const target = e.target;\n        const isParent = parents.filter(p => p === target).length > 0;\n        const isDocument = target === document;\n        const isWindow = target === window;\n\n        if (isParent || isDocument || isWindow) {\n          callback(this.isVisible(this.element, target));\n        }\n      };\n\n      this.subscription = merge(...observables).subscribe(subscriber);\n    });\n  }\n\n  unsubscribe() {\n    if (!this.subscription) {\n      return;\n    }\n\n    this.subscription.unsubscribe();\n  }\n\n  isVisible(elem, container) {\n    const elemRect = this._dom.boundingOffset(elem);\n\n    const containerRect = this._dom.boundingOffset(this._dom.nativeElement(container));\n\n    if (THRESHOLD_DIFF < containerRect.top - elemRect.bottom) {\n      return false;\n    }\n\n    if (THRESHOLD_DIFF < elemRect.top - containerRect.bottom) {\n      return false;\n    }\n\n    if (THRESHOLD_DIFF < elemRect.left - containerRect.right) {\n      return false;\n    }\n\n    if (THRESHOLD_DIFF < containerRect.left - elemRect.right) {\n      return false;\n    }\n\n    return true;\n  }\n\n}\n\nScrollableService.ɵfac = function ScrollableService_Factory(t) {\n  return new (t || ScrollableService)(i0.ɵɵinject(DOMService), i0.ɵɵinject(i0.NgZone));\n};\n\nScrollableService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: ScrollableService,\n  factory: ScrollableService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(ScrollableService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: DOMService\n    }, {\n      type: i0.NgZone\n    }];\n  }, null);\n})();\n\nconst LEFT = 'left';\nconst RIGHT = 'right';\nconst DOWN = 'down';\nconst UP = 'up';\nconst DEFAULT_TYPE = 'slide';\nconst DEFAULT_DURATION = 100;\nconst animationTypes = {};\n\nanimationTypes.expand = direction => {\n  const scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n  const startScale = 0;\n  const endScale = 1;\n  let origin;\n\n  if (direction === DOWN) {\n    origin = 'top';\n  } else if (direction === LEFT) {\n    origin = RIGHT;\n  } else if (direction === RIGHT) {\n    origin = LEFT;\n  } else {\n    origin = 'bottom';\n  }\n\n  return {\n    start: {\n      transform: `${scale}(${startScale})`,\n      transformOrigin: origin\n    },\n    end: {\n      transform: `${scale}(${endScale})`\n    }\n  };\n};\n\nanimationTypes.slide = direction => {\n  const translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n  const start = direction === RIGHT || direction === DOWN ? -100 : 100;\n  const end = 0;\n  return {\n    start: {\n      transform: `${translate}(${start}%)`\n    },\n    end: {\n      transform: `${translate}(${end}%)`\n    }\n  };\n};\n\nanimationTypes.fade = () => {\n  return {\n    start: {\n      opacity: 0\n    },\n    end: {\n      opacity: 1\n    }\n  };\n};\n\nanimationTypes.zoom = () => {\n  const start = 0;\n  const end = 1;\n  return {\n    start: {\n      transform: `scale(${start})`\n    },\n    end: {\n      transform: `scale(${end})`\n    }\n  };\n};\n/**\n * @hidden\n */\n\n\nclass AnimationService {\n  constructor(animationBuilder) {\n    this.animationBuilder = animationBuilder;\n    this.start = new EventEmitter();\n    this.end = new EventEmitter();\n  }\n\n  play(element, options, flip) {\n    if (!this.flip || this.flip.horizontal !== flip.horizontal || this.flip.vertical !== flip.vertical) {\n      this.flip = flip;\n      const type = options.type || DEFAULT_TYPE;\n      const statesFn = animationTypes[type];\n\n      if (statesFn) {\n        const direction = this.getDirection(flip, options);\n        const states = statesFn(direction);\n        this.playStates(element, states, options);\n      } else if (isDevMode()) {\n        throw new Error(`Unsupported animation type: \"${type}\". The supported types are slide, expand, fade and zoom.`);\n      }\n    }\n  }\n\n  ngOnDestroy() {\n    this.stopPlayer();\n  }\n\n  playStates(element, states, options) {\n    this.stopPlayer();\n    const duration = options.duration || DEFAULT_DURATION;\n    const factory = this.animationBuilder.build([style(states.start), animate(`${duration}ms ease-in`, style(states.end))]);\n    const player = this.player = factory.create(element);\n    player.onDone(() => {\n      this.end.emit();\n      this.stopPlayer();\n    });\n    this.start.emit();\n    player.play();\n  }\n\n  getDirection(flip, options) {\n    let direction = options.direction || DOWN;\n\n    if (flip.horizontal) {\n      if (direction === LEFT) {\n        direction = RIGHT;\n      } else if (direction === RIGHT) {\n        direction = LEFT;\n      }\n    }\n\n    if (flip.vertical) {\n      if (direction === DOWN) {\n        direction = UP;\n      } else if (direction === UP) {\n        direction = DOWN;\n      }\n    }\n\n    return direction;\n  }\n\n  stopPlayer() {\n    if (this.player) {\n      this.player.destroy();\n      this.player = null;\n    }\n  }\n\n}\n\nAnimationService.ɵfac = function AnimationService_Factory(t) {\n  return new (t || AnimationService)(i0.ɵɵinject(i1.AnimationBuilder));\n};\n\nAnimationService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: AnimationService,\n  factory: AnimationService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(AnimationService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i1.AnimationBuilder\n    }];\n  }, null);\n})();\n/**\n * @hidden\n */\n\n\nconst packageMetadata = {\n  name: '@progress/kendo-angular-popup',\n  productName: 'Kendo UI for Angular',\n  productCodes: ['KENDOUIANGULAR', 'KENDOUICOMPLETE'],\n  publishDate: 1668698035,\n  version: '',\n  licensingDocsUrl: 'https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning'\n};\nconst DEFAULT_OFFSET = {\n  left: -10000,\n  top: 0\n};\nconst ANIMATION_CONTAINER = 'k-animation-container';\nconst ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\n\nclass PopupComponent {\n  constructor(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n    this.container = container;\n    this._alignService = _alignService;\n    this.domService = domService;\n    this._positionService = _positionService;\n    this._resizeService = _resizeService;\n    this._scrollableService = _scrollableService;\n    this.animationService = animationService;\n    this._renderer = _renderer;\n    this._zone = _zone;\n    /**\n     * Controls the Popup animation. By default, the opening and closing animations\n     * are enabled ([see example]({% slug animations_popup %})).\n     */\n\n    this.animate = true;\n    /**\n     * Specifies the anchor pivot point\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n     */\n\n    this.anchorAlign = {\n      horizontal: 'left',\n      vertical: 'bottom'\n    };\n    /**\n     * Configures the collision behavior of the Popup\n     * ([see example]({% slug viewportboundarydetection_popup %})).\n     */\n\n    this.collision = {\n      horizontal: 'fit',\n      vertical: 'flip'\n    };\n    /**\n     * Specifies the pivot point of the Popup\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n     */\n\n    this.popupAlign = {\n      horizontal: 'left',\n      vertical: 'top'\n    };\n    /**\n     * Controls whether the component will copy the `anchor` font styles.\n     */\n\n    this.copyAnchorStyles = false;\n    /**\n     * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n     * To make the Popup acquire absolute positioning, set this option to `absolute`.\n     *\n     * > If you need to support mobile browsers with the zoom option,\n     * use the `absolute` positioning of the Popup.\n     *\n     * @example\n     * ```html\n     * <style>\n     *  .parent-content {\n     *     position: relative;\n     *     width: 200px;\n     *     height: 200px;\n     *     overflow: auto;\n     *     margin: 200px auto;\n     *     border: 1px solid red;\n     *  }\n     *  .content {\n     *     position: relative;\n     *     width: 100px;\n     *     height: 100px;\n     *     overflow: auto;\n     *     margin: 300px;\n     *     border: 1px solid blue;\n     *  }\n     *  .anchor {\n     *     position: absolute;\n     *     top: 200px;\n     *     left: 200px;\n     *  }\n     * </style>\n     * ```\n     * ```ts\n     * _@Component({\n     * selector: 'my-app',\n     * template: `\n     *   <div class=\"example-config\">\n     *      Position mode:\n     *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n     *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n     *   </div>\n     *   <div class=\"example-config\">\n     *       Append to\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n     *           Root component\n     *       </label>\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n     *           <span style=\"color: red\">Red Container</span>\n     *       </label>\n     *       <label>\n     *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n     *           <span style=\"color: blue\">Blue Container</span>\n     *       </label>\n     *   </div>\n     *   <div class=\"example\">\n     *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n     *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n     *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n     *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n     *             <ul>\n     *                 <li>Item1</li>\n     *                 <li>Item2</li>\n     *                 <li>Item3</li>\n     *             </ul>\n     *           </kendo-popup>\n     *           <span style=\"position: absolute; top: 400px; left: 400px\">Bottom/Right</span>\n     *         </div>\n     *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n     *           <ul>\n     *               <li>Item1</li>\n     *               <li>Item2</li>\n     *               <li>Item3</li>\n     *           </ul>\n     *         </kendo-popup>\n     *         <span style=\"position: absolute; top: 600px; left: 600px\">Bottom/Right</span>\n     *     </div>\n     *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n     *       <ul>\n     *           <li>Item1</li>\n     *           <li>Item2</li>\n     *           <li>Item3</li>\n     *       </ul>\n     *     </kendo-popup>\n     *   </div>\n     * `\n     * })\n     * class AppComponent {\n     *   public checked: number = 3;\n     *   public mode: string = 'absolute';\n     *   public show: boolean = true;\n     * }\n     * ```\n     */\n\n    this.positionMode = 'fixed';\n    /**\n     * Specifies the absolute position of the element\n     * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n     * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n     * The boundary detection is applied by using the window viewport.\n     */\n\n    this.offset = DEFAULT_OFFSET;\n    /**\n     * Fires when the anchor is scrolled outside the screen boundaries.\n     * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n     */\n\n    this.anchorViewportLeave = new EventEmitter();\n    /**\n     * Fires after the component is closed.\n     */\n\n    this.close = new EventEmitter();\n    /**\n     * Fires after the component is opened and the opening animation ends.\n     */\n\n    this.open = new EventEmitter();\n    /**\n     * Fires after the component is opened and the Popup is positioned.\n     */\n\n    this.positionChange = new EventEmitter();\n    this.resolvedPromise = Promise.resolve(null);\n    this.initialCheck = true;\n    validatePackage(packageMetadata);\n\n    this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n\n    this.updateFixedClass();\n  }\n\n  ngOnInit() {\n    this.reposition = this.reposition.bind(this);\n\n    this._resizeService.subscribe(this.reposition);\n\n    this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n    this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n\n    this._scrollableService.forElement(this.domService.nativeElement(this.anchor) || this.container.nativeElement).subscribe(this.onScroll.bind(this));\n\n    this.currentOffset = DEFAULT_OFFSET;\n    this.setZIndex();\n    this.copyFontStyles();\n    this.updateFixedClass();\n    this.reposition();\n  }\n\n  ngOnChanges(changes) {\n    if (changes.copyAnchorStyles) {\n      this.copyFontStyles();\n    }\n\n    if (changes.positionMode) {\n      this.updateFixedClass();\n    }\n  }\n\n  ngAfterViewInit() {\n    if (!this.animate) {\n      this.resolvedPromise.then(() => {\n        this.onAnimationEnd();\n      });\n    }\n  }\n\n  ngAfterViewChecked() {\n    if (this.initialCheck) {\n      this.initialCheck = false;\n      return;\n    }\n\n    this._zone.runOutsideAngular(() => {\n      // workarounds https://github.com/angular/angular/issues/19094\n      // uses promise because it is executed synchronously after the content is updated\n      // does not use onStable in case the current zone is not the angular one.\n      this.unsubscribeReposition();\n      this.repositionSubscription = from(this.resolvedPromise).subscribe(this.reposition);\n    });\n  }\n\n  ngOnDestroy() {\n    this.anchorViewportLeave.complete();\n    this.positionChange.complete();\n    this.close.emit();\n    this.close.complete();\n\n    this._resizeService.unsubscribe();\n\n    this._scrollableService.unsubscribe();\n\n    this.animationSubscriptions.unsubscribe();\n    this.unsubscribeReposition();\n  }\n  /**\n   * @hidden\n   */\n\n\n  onResize() {\n    this.reposition();\n  }\n\n  onAnimationStart() {\n    this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n  }\n\n  onAnimationEnd() {\n    this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n\n    this.open.emit();\n    this.open.complete();\n  }\n\n  get currentOffset() {\n    return this._currentOffset;\n  }\n\n  set currentOffset(offset) {\n    this.setContainerStyle('left', `${offset.left}px`);\n    this.setContainerStyle('top', `${offset.top}px`);\n    this._currentOffset = offset;\n  }\n\n  setZIndex() {\n    if (this.anchor) {\n      this.setContainerStyle('z-index', String(this.domService.zIndex(this.domService.nativeElement(this.anchor), this.container)));\n    }\n  }\n\n  reposition() {\n    if (!isDocumentAvailable()) {\n      return;\n    }\n\n    const {\n      flip,\n      offset\n    } = this.position();\n\n    if (!this.currentOffset || isDifferentOffset(this.currentOffset, offset)) {\n      this.currentOffset = offset;\n\n      if (hasObservers(this.positionChange)) {\n        this._zone.run(() => this.positionChange.emit({\n          offset,\n          flip\n        }));\n      }\n    }\n\n    if (this.animate) {\n      this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n    }\n\n    this.resizeSensor.acceptSize();\n  }\n\n  position() {\n    const alignedOffset = this._alignService.alignElement({\n      anchor: this.domService.nativeElement(this.anchor),\n      anchorAlign: this.anchorAlign,\n      element: this.container,\n      elementAlign: this.popupAlign,\n      margin: this.margin,\n      offset: this.offset,\n      positionMode: this.positionMode\n    });\n\n    return this._positionService.positionElement({\n      anchor: this.domService.nativeElement(this.anchor),\n      anchorAlign: this.anchorAlign,\n      collisions: this.collision,\n      currentLocation: alignedOffset,\n      element: this.container,\n      elementAlign: this.popupAlign,\n      margin: this.margin\n    });\n  }\n\n  onScroll(isInViewPort) {\n    const hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n\n    if (isInViewPort || !hasLeaveObservers) {\n      this.reposition();\n    } else if (hasLeaveObservers) {\n      this._zone.run(() => {\n        this.anchorViewportLeave.emit();\n      });\n    }\n  }\n\n  copyFontStyles() {\n    if (!this.anchor || !this.copyAnchorStyles) {\n      return;\n    }\n\n    this.domService.getFontStyles(this.domService.nativeElement(this.anchor)).forEach(s => this.setContainerStyle(s.key, s.value));\n  }\n\n  updateFixedClass() {\n    const action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n\n    this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n  }\n\n  setContainerStyle(name, value) {\n    this._renderer.setStyle(this.container.nativeElement, name, value);\n  }\n\n  unsubscribeReposition() {\n    if (this.repositionSubscription) {\n      this.repositionSubscription.unsubscribe();\n    }\n  }\n\n}\n\nPopupComponent.ɵfac = function PopupComponent_Factory(t) {\n  return new (t || PopupComponent)(i0.ɵɵdirectiveInject(i0.ElementRef), i0.ɵɵdirectiveInject(AlignService), i0.ɵɵdirectiveInject(DOMService), i0.ɵɵdirectiveInject(PositionService), i0.ɵɵdirectiveInject(ResizeService), i0.ɵɵdirectiveInject(ScrollableService), i0.ɵɵdirectiveInject(AnimationService), i0.ɵɵdirectiveInject(i0.Renderer2), i0.ɵɵdirectiveInject(i0.NgZone));\n};\n\nPopupComponent.ɵcmp = /* @__PURE__ */i0.ɵɵdefineComponent({\n  type: PopupComponent,\n  selectors: [[\"kendo-popup\"]],\n  viewQuery: function PopupComponent_Query(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵviewQuery(_c0, 7);\n      i0.ɵɵviewQuery(ResizeSensorComponent, 7);\n    }\n\n    if (rf & 2) {\n      let _t;\n\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.contentContainer = _t.first);\n      i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.resizeSensor = _t.first);\n    }\n  },\n  inputs: {\n    animate: \"animate\",\n    anchor: \"anchor\",\n    anchorAlign: \"anchorAlign\",\n    collision: \"collision\",\n    popupAlign: \"popupAlign\",\n    copyAnchorStyles: \"copyAnchorStyles\",\n    popupClass: \"popupClass\",\n    positionMode: \"positionMode\",\n    offset: \"offset\",\n    margin: \"margin\"\n  },\n  outputs: {\n    anchorViewportLeave: \"anchorViewportLeave\",\n    close: \"close\",\n    open: \"open\",\n    positionChange: \"positionChange\"\n  },\n  exportAs: [\"kendo-popup\"],\n  features: [i0.ɵɵProvidersFeature([AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService]), i0.ɵɵNgOnChangesFeature],\n  ngContentSelectors: _c1,\n  decls: 5,\n  vars: 4,\n  consts: [[1, \"k-popup\", 3, \"ngClass\"], [\"container\", \"\"], [3, \"ngTemplateOutlet\", \"ngIf\"], [3, \"rateLimit\", \"resize\"]],\n  template: function PopupComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵprojectionDef();\n      i0.ɵɵelementStart(0, \"div\", 0, 1);\n      i0.ɵɵprojection(2);\n      i0.ɵɵtemplate(3, PopupComponent_ng_template_3_Template, 0, 0, \"ng-template\", 2);\n      i0.ɵɵelementStart(4, \"kendo-resize-sensor\", 3);\n      i0.ɵɵlistener(\"resize\", function PopupComponent_Template_kendo_resize_sensor_resize_4_listener() {\n        return ctx.onResize();\n      });\n      i0.ɵɵelementEnd();\n      i0.ɵɵelementEnd();\n    }\n\n    if (rf & 2) {\n      i0.ɵɵproperty(\"ngClass\", ctx.popupClass);\n      i0.ɵɵadvance(3);\n      i0.ɵɵproperty(\"ngTemplateOutlet\", ctx.content)(\"ngIf\", ctx.content);\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"rateLimit\", 100);\n    }\n  },\n  directives: [i8.NgClass, i8.NgTemplateOutlet, i8.NgIf, i7.ResizeSensorComponent],\n  encapsulation: 2\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupComponent, [{\n    type: Component,\n    args: [{\n      exportAs: 'kendo-popup',\n      providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n      selector: 'kendo-popup',\n      template: `\n        <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n            <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n            </kendo-resize-sensor>\n        </div>\n     `\n    }]\n  }], function () {\n    return [{\n      type: i0.ElementRef\n    }, {\n      type: AlignService\n    }, {\n      type: DOMService\n    }, {\n      type: PositionService\n    }, {\n      type: ResizeService\n    }, {\n      type: ScrollableService\n    }, {\n      type: AnimationService\n    }, {\n      type: i0.Renderer2\n    }, {\n      type: i0.NgZone\n    }];\n  }, {\n    animate: [{\n      type: Input\n    }],\n    anchor: [{\n      type: Input\n    }],\n    anchorAlign: [{\n      type: Input\n    }],\n    collision: [{\n      type: Input\n    }],\n    popupAlign: [{\n      type: Input\n    }],\n    copyAnchorStyles: [{\n      type: Input\n    }],\n    popupClass: [{\n      type: Input\n    }],\n    positionMode: [{\n      type: Input\n    }],\n    offset: [{\n      type: Input\n    }],\n    margin: [{\n      type: Input\n    }],\n    anchorViewportLeave: [{\n      type: Output\n    }],\n    close: [{\n      type: Output\n    }],\n    open: [{\n      type: Output\n    }],\n    positionChange: [{\n      type: Output\n    }],\n    contentContainer: [{\n      type: ViewChild,\n      args: ['container', {\n        static: true\n      }]\n    }],\n    resizeSensor: [{\n      type: ViewChild,\n      args: [ResizeSensorComponent, {\n        static: true\n      }]\n    }]\n  });\n})();\n\nconst removeElement = element => {\n  if (element && element.parentNode) {\n    element.parentNode.removeChild(element);\n  }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\n\n\nconst POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\n\nclass PopupService {\n  constructor(applicationRef, componentFactoryResolver, injector, container) {\n    this.applicationRef = applicationRef;\n    this.componentFactoryResolver = componentFactoryResolver;\n    this.injector = injector;\n    this.container = container;\n  }\n  /**\n   * Gets the root view container into which the component will be injected.\n   *\n   * @returns {ComponentRef<any>}\n   */\n\n\n  get rootViewContainer() {\n    // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n    const rootComponents = this.applicationRef.components || [];\n\n    if (rootComponents[0]) {\n      return rootComponents[0];\n    }\n\n    throw new Error(`\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        `);\n  }\n  /**\n   * Sets or gets the HTML element of the root component container.\n   *\n   * @returns {HTMLElement}\n   */\n\n\n  get rootViewContainerNode() {\n    return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n  }\n  /**\n   * Opens a Popup component. Created Popups are mounted\n   * in the DOM directly in the root application component.\n   *\n   * @param {PopupSettings} options - The options which define the Popup.\n   * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n   *\n   * @example\n   *\n   * ```ts-no-run\n   * _@Component({\n   *   selector: 'my-app',\n   *   template: `\n   *     <ng-template #template>\n   *      Popup content\n   *     </ng-template>\n   *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n   *   `\n   * })\n   * export class AppComponent {\n   *     public popupRef: PopupRef;\n   *\n   *     constructor( private popupService: PopupService ) {}\n   *\n   *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n   *         if (this.popupRef) {\n   *              this.popupRef.close();\n   *              this.popupRef = null;\n   *              return;\n   *         }\n   *\n   *         this.popupRef = this.popupService.open({\n   *           anchor: anchor,\n   *           content: template\n   *         });\n   *     }\n   * }\n   * ```\n   */\n\n\n  open(options = {}) {\n    const {\n      component,\n      nodes\n    } = this.contentFrom(options.content);\n    const popupComponentRef = this.appendPopup(nodes, options.appendTo);\n    const popupInstance = popupComponentRef.instance;\n    this.projectComponentInputs(popupComponentRef, options);\n    popupComponentRef.changeDetectorRef.detectChanges();\n\n    if (component) {\n      component.changeDetectorRef.detectChanges();\n    }\n\n    const popupElement = this.getComponentRootNode(popupComponentRef);\n    return {\n      close: () => {\n        if (component) {\n          component.destroy();\n        }\n\n        popupComponentRef.destroy(); // Angular will not remove the element unless the change detection is triggered\n\n        removeElement(popupElement);\n      },\n      content: component,\n      popup: popupComponentRef,\n      popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n      popupClose: popupInstance.close,\n      popupElement: popupElement,\n      popupOpen: popupInstance.open,\n      popupPositionChange: popupInstance.positionChange\n    };\n  }\n\n  appendPopup(nodes, container) {\n    const popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n\n    if (!container) {\n      this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n    }\n\n    return popupComponentRef;\n  }\n  /**\n   * Gets the HTML element for a component reference.\n   *\n   * @param {ComponentRef<any>} componentRef\n   * @returns {HTMLElement}\n   */\n\n\n  getComponentRootNode(componentRef) {\n    return componentRef.location.nativeElement;\n  }\n  /**\n   * Gets the `ComponentFactory` instance by its type.\n   *\n   * @param {*} componentClass\n   * @param {*} nodes\n   * @returns {ComponentRef<any>}\n   */\n\n\n  getComponentFactory(componentClass) {\n    return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n  }\n  /**\n   * Creates a component reference from a `Component` type class.\n   *\n   * @param {*} componentClass\n   * @param {*} nodes\n   * @returns {ComponentRef<any>}\n   */\n\n\n  createComponent(componentClass, nodes, container) {\n    const factory = this.getComponentFactory(componentClass);\n\n    if (container) {\n      return container.createComponent(factory, undefined, this.injector, nodes);\n    } else {\n      const component = factory.create(this.injector, nodes);\n      this.applicationRef.attachView(component.hostView);\n      return component;\n    }\n  }\n  /**\n   * Projects the inputs on the component.\n   *\n   * @param {ComponentRef<any>} component\n   * @param {*} options\n   * @returns {ComponentRef<any>}\n   */\n\n\n  projectComponentInputs(component, options) {\n    Object.getOwnPropertyNames(options).filter(prop => prop !== 'content' || options.content instanceof TemplateRef).map(prop => {\n      component.instance[prop] = options[prop];\n    });\n    return component;\n  }\n  /**\n   * Gets the component and the nodes to append from the `content` option.\n   *\n   * @param {*} content\n   * @returns {any}\n   */\n\n\n  contentFrom(content) {\n    if (!content || content instanceof TemplateRef) {\n      return {\n        component: null,\n        nodes: [[]]\n      };\n    }\n\n    const component = this.createComponent(content);\n    const nodes = component ? [component.location.nativeElement] : [];\n    return {\n      component: component,\n      nodes: [nodes // <ng-content>\n      ]\n    };\n  }\n\n}\n\nPopupService.ɵfac = function PopupService_Factory(t) {\n  return new (t || PopupService)(i0.ɵɵinject(i0.ApplicationRef), i0.ɵɵinject(i0.ComponentFactoryResolver), i0.ɵɵinject(i0.Injector), i0.ɵɵinject(POPUP_CONTAINER, 8));\n};\n\nPopupService.ɵprov = /* @__PURE__ */i0.ɵɵdefineInjectable({\n  token: PopupService,\n  factory: PopupService.ɵfac\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupService, [{\n    type: Injectable\n  }], function () {\n    return [{\n      type: i0.ApplicationRef\n    }, {\n      type: i0.ComponentFactoryResolver\n    }, {\n      type: i0.Injector\n    }, {\n      type: i0.ElementRef,\n      decorators: [{\n        type: Inject,\n        args: [POPUP_CONTAINER]\n      }, {\n        type: Optional\n      }]\n    }];\n  }, null);\n})();\n\nconst POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule](link:site.data.urls.angular['ngmoduleapi'])\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\n\nclass PopupModule {}\n\nPopupModule.ɵfac = function PopupModule_Factory(t) {\n  return new (t || PopupModule)();\n};\n\nPopupModule.ɵmod = /* @__PURE__ */i0.ɵɵdefineNgModule({\n  type: PopupModule\n});\nPopupModule.ɵinj = /* @__PURE__ */i0.ɵɵdefineInjector({\n  providers: [PopupService],\n  imports: [[CommonModule, ResizeSensorModule]]\n});\n\n(function () {\n  (typeof ngDevMode === \"undefined\" || ngDevMode) && i0.ɵsetClassMetadata(PopupModule, [{\n    type: NgModule,\n    args: [{\n      declarations: [POPUP_DIRECTIVES],\n      entryComponents: [POPUP_DIRECTIVES],\n      exports: [POPUP_DIRECTIVES],\n      imports: [CommonModule, ResizeSensorModule],\n      providers: [PopupService]\n    }]\n  }], null, null);\n})();\n/**\n * Generated bundle index. Do not edit.\n */\n\n\nexport { POPUP_CONTAINER, PopupComponent, PopupModule, PopupService, SCALE };","map":{"version":3,"sources":["C:/Repos/angular-kendo-grid/node_modules/@progress/kendo-angular-popup/fesm2015/kendo-angular-popup.js"],"names":["i0","InjectionToken","Injectable","Inject","Optional","EventEmitter","isDevMode","Component","Input","Output","ViewChild","TemplateRef","NgModule","siblingContainer","parents","addScroll","align","boundingOffset","offset","positionWithScroll","removeScroll","restrictToView","scrollPosition","getWindowViewPort","i7","isDocumentAvailable","hasObservers","ResizeSensorComponent","ResizeSensorModule","fromEvent","merge","from","auditTime","i1","style","animate","validatePackage","i8","CommonModule","eitherRect","rect","height","left","top","width","replaceOffset","result","removeStackingOffset","stackingOffset","isDifferentOffset","oldOffset","newOffset","oldLeft","oldTop","newLeft","newTop","Math","abs","isWindowAvailable","window","hasBoundingRect","elem","getBoundingClientRect","OVERFLOW_REGEXP","overflowElementStyle","element","overflow","overflowX","overflowY","overflowComputedStyle","styles","getComputedStyle","overflowStyle","scrollableParents","parentElements","parent","parentElement","test","hasAttribute","push","FRAME_DURATION","memoize","fun","called","args","hasRelativeStackingContext","document","body","createElement","transform","innerHTML","appendChild","isDifferent","children","removeChild","zIndex","anchor","container","sibling","concat","reduce","index","p","zIndexStyle","current","parseInt","scaleRect","scale","SCALE","STYLES","DOMService","addOffset","addition","scroll","settings","el","getFontStyles","getWindow","computedStyles","map","font","key","value","hasOffsetParent","nativeElement","offsetParent","offsetAtPoint","currentLocation","transition","currentOffset","offsetHeight","position","popup","stackingElementOffset","relativeContextElement","getRelativeContextElement","stackingElementScroll","x","y","scrollLeft","scrollTop","useRelativePosition","windowViewPort","zoomLevel","parseFloat","documentElement","clientWidth","innerWidth","toFixed","isZoomed","ɵfac","ɵprov","type","AlignService","constructor","_dom","alignElement","anchorAlign","elementAlign","margin","positionMode","fixedMode","anchorRect","absoluteRect","relativeRect","elementRect","scrollPos","elementScrollPosition","stackScale","stackScroll","stackOffset","undefined","decorators","PositionService","positionElement","collisions","dom","elementOffset","anchorOffset","viewPort","flip","flipped","ResizeService","_zone","subscribe","callback","runOutsideAngular","subscription","pipe","unsubscribe","isUnsubscribed","closed","NgZone","THRESHOLD_DIFF","ScrollableService","forElement","observables","subscriber","e","target","isParent","filter","length","isDocument","isWindow","isVisible","elemRect","containerRect","bottom","right","LEFT","RIGHT","DOWN","UP","DEFAULT_TYPE","DEFAULT_DURATION","animationTypes","expand","direction","startScale","endScale","origin","start","transformOrigin","end","slide","translate","fade","opacity","zoom","AnimationService","animationBuilder","play","options","horizontal","vertical","statesFn","getDirection","states","playStates","Error","ngOnDestroy","stopPlayer","duration","factory","build","player","create","onDone","emit","destroy","AnimationBuilder","packageMetadata","name","productName","productCodes","publishDate","version","licensingDocsUrl","DEFAULT_OFFSET","ANIMATION_CONTAINER","ANIMATION_CONTAINER_FIXED","PopupComponent","_alignService","domService","_positionService","_resizeService","_scrollableService","animationService","_renderer","collision","popupAlign","copyAnchorStyles","anchorViewportLeave","close","open","positionChange","resolvedPromise","Promise","resolve","initialCheck","addClass","updateFixedClass","ngOnInit","reposition","bind","animationSubscriptions","onAnimationStart","add","onAnimationEnd","onScroll","setZIndex","copyFontStyles","ngOnChanges","changes","ngAfterViewInit","then","ngAfterViewChecked","unsubscribeReposition","repositionSubscription","complete","onResize","removeClass","_currentOffset","setContainerStyle","String","run","contentContainer","resizeSensor","acceptSize","alignedOffset","isInViewPort","hasLeaveObservers","forEach","s","action","setStyle","ElementRef","Renderer2","ɵcmp","NgClass","NgTemplateOutlet","NgIf","exportAs","providers","selector","template","popupClass","static","removeElement","parentNode","POPUP_CONTAINER","PopupService","applicationRef","componentFactoryResolver","injector","rootViewContainer","rootComponents","components","rootViewContainerNode","getComponentRootNode","component","nodes","contentFrom","content","popupComponentRef","appendPopup","appendTo","popupInstance","instance","projectComponentInputs","changeDetectorRef","detectChanges","popupElement","popupAnchorViewportLeave","popupClose","popupOpen","popupPositionChange","createComponent","componentRef","location","getComponentFactory","componentClass","resolveComponentFactory","attachView","hostView","Object","getOwnPropertyNames","prop","ApplicationRef","ComponentFactoryResolver","Injector","POPUP_DIRECTIVES","PopupModule","ɵmod","ɵinj","declarations","entryComponents","exports","imports"],"mappings":"AAAA;AACA;AACA;AACA;AACA,OAAO,KAAKA,EAAZ,MAAoB,eAApB;AACA,SAASC,cAAT,EAAyBC,UAAzB,EAAqCC,MAArC,EAA6CC,QAA7C,EAAuDC,YAAvD,EAAqEC,SAArE,EAAgFC,SAAhF,EAA2FC,KAA3F,EAAkGC,MAAlG,EAA0GC,SAA1G,EAAqHC,WAArH,EAAkIC,QAAlI,QAAkJ,eAAlJ;AACA,SAASC,gBAAT,EAA2BC,OAA3B,EAAoCC,SAApC,EAA+CC,KAA/C,EAAsDC,cAAtD,EAAsEC,MAAtE,EAA8EC,kBAA9E,EAAkGC,YAAlG,EAAgHC,cAAhH,EAAgIC,cAAhI,EAAgJC,iBAAhJ,QAAyK,8BAAzK;AACA,OAAO,KAAKC,EAAZ,MAAoB,gCAApB;AACA,SAASC,mBAAT,EAA8BC,YAA9B,EAA4CC,qBAA5C,EAAmEC,kBAAnE,QAA6F,gCAA7F;AACA,SAASC,SAAT,EAAoBC,KAApB,EAA2BC,IAA3B,QAAuC,MAAvC;AACA,SAASC,SAAT,QAA0B,gBAA1B;AACA,OAAO,KAAKC,EAAZ,MAAoB,qBAApB;AACA,SAASC,KAAT,EAAgBC,OAAhB,QAA+B,qBAA/B;AACA,SAASC,eAAT,QAAgC,2BAAhC;AACA,OAAO,KAAKC,EAAZ,MAAoB,iBAApB;AACA,SAASC,YAAT,QAA6B,iBAA7B;AAEA;AACA;AACA;;;;;;;;AACA,MAAMC,UAAU,GAAG,CAACC,IAAD,EAAOtB,MAAP,KAAkB;AACjC,MAAI,CAACsB,IAAL,EAAW;AACP,WAAO;AAAEC,MAAAA,MAAM,EAAE,CAAV;AAAaC,MAAAA,IAAI,EAAExB,MAAM,CAACwB,IAA1B;AAAgCC,MAAAA,GAAG,EAAEzB,MAAM,CAACyB,GAA5C;AAAiDC,MAAAA,KAAK,EAAE;AAAxD,KAAP;AACH;;AACD,SAAOJ,IAAP;AACH,CALD;AAMA;AACA;AACA;;;AACA,MAAMK,aAAa,GAAG,CAACL,IAAD,EAAOtB,MAAP,KAAkB;AACpC,MAAI,CAACA,MAAL,EAAa;AACT,WAAOsB,IAAP;AACH;;AACD,QAAMM,MAAM,GAAG;AACXL,IAAAA,MAAM,EAAED,IAAI,CAACC,MADF;AAEXC,IAAAA,IAAI,EAAExB,MAAM,CAACwB,IAFF;AAGXC,IAAAA,GAAG,EAAEzB,MAAM,CAACyB,GAHD;AAIXC,IAAAA,KAAK,EAAEJ,IAAI,CAACI;AAJD,GAAf;AAMA,SAAOE,MAAP;AACH,CAXD;AAYA;AACA;AACA;;;AACA,MAAMC,oBAAoB,GAAG,CAACP,IAAD,EAAOQ,cAAP,KAA0B;AACnD,MAAI,CAACA,cAAL,EAAqB;AACjB,WAAOR,IAAP;AACH;;AACD,QAAMM,MAAM,GAAG;AACXL,IAAAA,MAAM,EAAED,IAAI,CAACC,MADF;AAEXC,IAAAA,IAAI,EAAEF,IAAI,CAACE,IAAL,GAAYM,cAAc,CAACN,IAFtB;AAGXC,IAAAA,GAAG,EAAEH,IAAI,CAACG,GAAL,GAAWK,cAAc,CAACL,GAHpB;AAIXC,IAAAA,KAAK,EAAEJ,IAAI,CAACI;AAJD,GAAf;AAMA,SAAOE,MAAP;AACH,CAXD;AAYA;AACA;AACA;;;AACA,MAAMG,iBAAiB,GAAG,CAACC,SAAD,EAAYC,SAAZ,KAA0B;AAChD,QAAM;AAAET,IAAAA,IAAI,EAAEU,OAAR;AAAiBT,IAAAA,GAAG,EAAEU;AAAtB,MAAiCH,SAAvC;AACA,QAAM;AAAER,IAAAA,IAAI,EAAEY,OAAR;AAAiBX,IAAAA,GAAG,EAAEY;AAAtB,MAAiCJ,SAAvC;AACA,SAAOK,IAAI,CAACC,GAAL,CAASL,OAAO,GAAGE,OAAnB,KAA+B,CAA/B,IAAoCE,IAAI,CAACC,GAAL,CAASJ,MAAM,GAAGE,MAAlB,KAA6B,CAAxE;AACH,CAJD;AAKA;AACA;AACA;;;AACA,MAAMG,iBAAiB,GAAG,MAAM;AAC5B,SAAO,OAAOC,MAAP,KAAkB,WAAzB;AACH,CAFD;AAGA;AACA;AACA;;;AACA,MAAMC,eAAe,GAAIC,IAAD,IAAU,CAAC,CAACA,IAAI,CAACC,qBAAzC;AACA;AACA;AACA;;;AACA,MAAMC,eAAe,GAAG,aAAxB;;AACA,MAAMC,oBAAoB,GAAIC,OAAD,IAAa;AACtC,SAAQ,GAAEA,OAAO,CAAC/B,KAAR,CAAcgC,QAAS,GAAED,OAAO,CAAC/B,KAAR,CAAciC,SAAU,GAAEF,OAAO,CAAC/B,KAAR,CAAckC,SAAU,EAArF;AACH,CAFD;;AAGA,MAAMC,qBAAqB,GAAIJ,OAAD,IAAa;AACvC,QAAMK,MAAM,GAAGX,MAAM,CAACY,gBAAP,CAAwBN,OAAxB,CAAf;AACA,SAAQ,GAAEK,MAAM,CAACJ,QAAS,GAAEI,MAAM,CAACH,SAAU,GAAEG,MAAM,CAACF,SAAU,EAAhE;AACH,CAHD;;AAIA,MAAMI,aAAa,GAAIP,OAAD,IAAa;AAC/B,SAAOD,oBAAoB,CAACC,OAAD,CAApB,IAAiCI,qBAAqB,CAACJ,OAAD,CAA7D;AACH,CAFD;AAGA;AACA;AACA;;;AACA,MAAMQ,iBAAiB,GAAIR,OAAD,IAAa;AACnC,QAAMS,cAAc,GAAG,EAAvB;;AACA,MAAI,CAACjD,mBAAmB,EAApB,IAA0B,CAACiC,iBAAiB,EAAhD,EAAoD;AAChD,WAAOgB,cAAP;AACH;;AACD,MAAIC,MAAM,GAAGV,OAAO,CAACW,aAArB;;AACA,SAAOD,MAAP,EAAe;AACX,QAAIZ,eAAe,CAACc,IAAhB,CAAqBL,aAAa,CAACG,MAAD,CAAlC,KAA+CA,MAAM,CAACG,YAAP,CAAoB,iBAApB,CAAnD,EAA2F;AACvFJ,MAAAA,cAAc,CAACK,IAAf,CAAoBJ,MAApB;AACH;;AACDA,IAAAA,MAAM,GAAGA,MAAM,CAACC,aAAhB;AACH;;AACDF,EAAAA,cAAc,CAACK,IAAf,CAAoBpB,MAApB;AACA,SAAOe,cAAP;AACH,CAdD;AAeA;AACA;AACA;;;AACA,MAAMM,cAAc,GAAG,OAAO,EAA9B,C,CAAkC;;AAClC,SAASC,OAAT,CAAiBC,GAAjB,EAAsB;AAClB,MAAIpC,MAAJ;AACA,MAAIqC,MAAM,GAAG,KAAb;AACA,SAAO,CAAC,GAAGC,IAAJ,KAAa;AAChB,QAAID,MAAJ,EAAY;AACR,aAAOrC,MAAP;AACH;;AACDA,IAAAA,MAAM,GAAGoC,GAAG,CAAC,GAAGE,IAAJ,CAAZ;AACAD,IAAAA,MAAM,GAAG,IAAT;AACA,WAAOrC,MAAP;AACH,GAPD;AAQH;AACD;AACA;AACA;;;AACA,MAAMuC,0BAA0B,GAAGJ,OAAO,CAAC,MAAM;AAC7C,MAAI,CAACxD,mBAAmB,EAApB,IAA0B6D,QAAQ,CAACC,IAAT,KAAkB,IAAhD,EAAsD;AAClD,WAAO,KAAP;AACH;;AACD,QAAM5C,GAAG,GAAG,EAAZ;AACA,QAAMgC,MAAM,GAAGW,QAAQ,CAACE,aAAT,CAAuB,KAAvB,CAAf;AACAb,EAAAA,MAAM,CAACzC,KAAP,CAAauD,SAAb,GAAyB,4BAAzB;AACAd,EAAAA,MAAM,CAACe,SAAP,GAAoB,qCAAoC/C,GAAI,kBAA5D;AACA2C,EAAAA,QAAQ,CAACC,IAAT,CAAcI,WAAd,CAA0BhB,MAA1B;AACA,QAAMiB,WAAW,GAAGjB,MAAM,CAACkB,QAAP,CAAgB,CAAhB,EAAmB/B,qBAAnB,GAA2CnB,GAA3C,KAAmDA,GAAvE;AACA2C,EAAAA,QAAQ,CAACC,IAAT,CAAcO,WAAd,CAA0BnB,MAA1B;AACA,SAAOiB,WAAP;AACH,CAZyC,CAA1C;AAaA;AACA;AACA;;AACA,MAAMG,MAAM,GAAG,CAACC,MAAD,EAASC,SAAT,KAAuB;AAClC,MAAI,CAACD,MAAD,IAAW,CAACvE,mBAAmB,EAA/B,IAAqC,CAACiC,iBAAiB,EAA3D,EAA+D;AAC3D,WAAO,IAAP;AACH;;AACD,QAAMwC,OAAO,GAAGrF,gBAAgB,CAACmF,MAAD,EAASC,SAAT,CAAhC;;AACA,MAAI,CAACC,OAAL,EAAc;AACV,WAAO,IAAP;AACH;;AACD,QAAMpD,MAAM,GAAG,CAACkD,MAAD,EAASG,MAAT,CAAgBrF,OAAO,CAACkF,MAAD,EAASE,OAAT,CAAvB,EAA0CE,MAA1C,CAAiD,CAACC,KAAD,EAAQC,CAAR,KAAc;AAC1E,UAAMC,WAAW,GAAGD,CAAC,CAACpE,KAAF,CAAQ6D,MAAR,IAAkBpC,MAAM,CAACY,gBAAP,CAAwB+B,CAAxB,EAA2BP,MAAjE;AACA,UAAMS,OAAO,GAAGC,QAAQ,CAACF,WAAD,EAAc,EAAd,CAAxB;AACA,WAAOC,OAAO,GAAGH,KAAV,GAAkBG,OAAlB,GAA4BH,KAAnC;AACH,GAJc,EAIZ,CAJY,CAAf;AAKA,SAAOvD,MAAM,GAAIA,MAAM,GAAG,CAAb,GAAkB,IAA/B;AACH,CAdD;AAeA;AACA;AACA;;;AACA,MAAM4D,SAAS,GAAG,CAAClE,IAAD,EAAOmE,KAAP,KAAiB;AAC/B,MAAI,CAACnE,IAAD,IAASmE,KAAK,KAAK,CAAvB,EAA0B;AACtB,WAAOnE,IAAP;AACH;;AACD,SAAO;AACHC,IAAAA,MAAM,EAAED,IAAI,CAACC,MAAL,GAAckE,KADnB;AAEHjE,IAAAA,IAAI,EAAEF,IAAI,CAACE,IAAL,GAAYiE,KAFf;AAGHhE,IAAAA,GAAG,EAAEH,IAAI,CAACG,GAAL,GAAWgE,KAHb;AAIH/D,IAAAA,KAAK,EAAEJ,IAAI,CAACI,KAAL,GAAa+D;AAJjB,GAAP;AAMH,CAVD;AAYA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AACA,MAAMC,KAAK,GAAG,IAAI3G,cAAJ,CAAmB,sBAAnB,CAAd;AAEA,MAAM4G,MAAM,GAAG,CACX,WADW,EAEX,aAFW,EAGX,cAHW,EAIX,YAJW,EAKX,aALW,EAMX,aANW,CAAf;AAQA;AACA;AACA;;AACA,MAAMC,UAAN,CAAiB;AACbC,EAAAA,SAAS,CAACP,OAAD,EAAUQ,QAAV,EAAoB;AACzB,WAAO;AACHtE,MAAAA,IAAI,EAAE8D,OAAO,CAAC9D,IAAR,GAAesE,QAAQ,CAACtE,IAD3B;AAEHC,MAAAA,GAAG,EAAE6D,OAAO,CAAC7D,GAAR,GAAcqE,QAAQ,CAACrE;AAFzB,KAAP;AAIH;;AACD5B,EAAAA,SAAS,CAACyB,IAAD,EAAOyE,MAAP,EAAe;AACpB,WAAOlG,SAAS,CAACyB,IAAD,EAAOyE,MAAP,CAAhB;AACH;;AACDjG,EAAAA,KAAK,CAACkG,QAAD,EAAW;AACZ,WAAOlG,KAAK,CAACkG,QAAD,CAAZ;AACH;;AACDjG,EAAAA,cAAc,CAACkG,EAAD,EAAK;AACf,WAAOlG,cAAc,CAACkG,EAAD,CAArB;AACH;;AACDC,EAAAA,aAAa,CAACD,EAAD,EAAK;AACd,UAAMxD,MAAM,GAAG,KAAK0D,SAAL,EAAf;;AACA,QAAI,CAAC1D,MAAD,IAAW,CAACwD,EAAhB,EAAoB;AAChB,aAAO,EAAP;AACH;;AACD,UAAMG,cAAc,GAAG3D,MAAM,CAACY,gBAAP,CAAwB4C,EAAxB,CAAvB;AACA,WAAON,MAAM,CAACU,GAAP,CAAWC,IAAI,KAAK;AAAEC,MAAAA,GAAG,EAAED,IAAP;AAAaE,MAAAA,KAAK,EAAEJ,cAAc,CAACE,IAAD;AAAlC,KAAL,CAAf,CAAP;AACH;;AACDH,EAAAA,SAAS,GAAG;AACR,WAAO3D,iBAAiB,KAAKC,MAAL,GAAc,IAAtC;AACH;;AACDgE,EAAAA,eAAe,CAACR,EAAD,EAAK;AAChB,QAAI,CAACA,EAAL,EAAS;AACL,aAAO,KAAP;AACH;;AACD,WAAO,CAAC,CAAC,KAAKS,aAAL,CAAmBT,EAAnB,EAAuBU,YAAhC;AACH;;AACD3G,EAAAA,MAAM,CAACiG,EAAD,EAAK;AACP,QAAI,CAACA,EAAL,EAAS;AACL,aAAO,IAAP;AACH;;AACD,WAAOjG,MAAM,CAACiG,EAAD,CAAb;AACH;;AACDW,EAAAA,aAAa,CAACX,EAAD,EAAKY,eAAL,EAAsB;AAC/B,QAAI,CAACZ,EAAL,EAAS;AACL,aAAO,IAAP;AACH;;AACD,UAAMlD,OAAO,GAAG,KAAK2D,aAAL,CAAmBT,EAAnB,CAAhB;AACA,UAAM;AAAEzE,MAAAA,IAAF;AAAQC,MAAAA,GAAR;AAAaqF,MAAAA;AAAb,QAA4B/D,OAAO,CAAC/B,KAA1C;AACA+B,IAAAA,OAAO,CAAC/B,KAAR,CAAc8F,UAAd,GAA2B,MAA3B;AACA/D,IAAAA,OAAO,CAAC/B,KAAR,CAAcQ,IAAd,GAAsB,GAAEqF,eAAe,CAACrF,IAAK,IAA7C;AACAuB,IAAAA,OAAO,CAAC/B,KAAR,CAAcS,GAAd,GAAqB,GAAEoF,eAAe,CAACpF,GAAI,IAA3C;AACA,UAAMsF,aAAa,GAAG/G,MAAM,CAAC+C,OAAD,CAA5B;AACAA,IAAAA,OAAO,CAAC/B,KAAR,CAAcQ,IAAd,GAAqBA,IAArB;AACAuB,IAAAA,OAAO,CAAC/B,KAAR,CAAcS,GAAd,GAAoBA,GAApB,CAX+B,CAY/B;AACA;;AACAsB,IAAAA,OAAO,CAACiE,YAAR;AACAjE,IAAAA,OAAO,CAAC/B,KAAR,CAAc8F,UAAd,GAA2BA,UAA3B;AACA,WAAOC,aAAP;AACH;;AACDL,EAAAA,aAAa,CAACT,EAAD,EAAK;AACd,QAAI,CAACA,EAAL,EAAS;AACL,aAAO,IAAP;AACH;;AACD,WAAOA,EAAE,CAACS,aAAH,IAAoBT,EAA3B;AACH;;AACDgB,EAAAA,QAAQ,CAAClE,OAAD,EAAUmE,KAAV,EAAiBzB,KAAK,GAAG,CAAzB,EAA4B;AAChC,QAAI,CAAC1C,OAAD,IAAY,CAACmE,KAAjB,EAAwB;AACpB,aAAO,IAAP;AACH;;AACD,WAAOjH,kBAAkB,CAAC8C,OAAD,EAAU,KAAK2D,aAAL,CAAmBQ,KAAnB,CAAV,EAAqCzB,KAArC,CAAzB;AACH;;AACDvF,EAAAA,YAAY,CAACoB,IAAD,EAAOyE,MAAP,EAAe;AACvB,WAAO7F,YAAY,CAACoB,IAAD,EAAOyE,MAAP,CAAnB;AACH;;AACD5F,EAAAA,cAAc,CAAC6F,QAAD,EAAW;AACrB,WAAO7F,cAAc,CAAC6F,QAAD,CAArB;AACH;;AACD5F,EAAAA,cAAc,CAAC6F,EAAD,EAAK;AACf,WAAO7F,cAAc,CAAC,KAAKsG,aAAL,CAAmBT,EAAnB,CAAD,CAArB;AACH;;AACD1C,EAAAA,iBAAiB,CAAC0C,EAAD,EAAK;AAClB,WAAO1C,iBAAiB,CAAC0C,EAAD,CAAxB;AACH;;AACDkB,EAAAA,qBAAqB,CAAClB,EAAD,EAAK;AACtB,UAAMmB,sBAAsB,GAAG,KAAKC,yBAAL,CAA+BpB,EAA/B,CAA/B;;AACA,QAAI,CAACmB,sBAAL,EAA6B;AACzB,aAAO,IAAP;AACH;;AACD,WAAOpH,MAAM,CAACoH,sBAAD,CAAb;AACH;;AACDE,EAAAA,qBAAqB,CAACrB,EAAD,EAAK;AACtB,UAAMmB,sBAAsB,GAAG,KAAKC,yBAAL,CAA+BpB,EAA/B,CAA/B;;AACA,QAAI,CAACmB,sBAAL,EAA6B;AACzB,aAAO;AAAEG,QAAAA,CAAC,EAAE,CAAL;AAAQC,QAAAA,CAAC,EAAE;AAAX,OAAP;AACH;;AACD,WAAO;AACHD,MAAAA,CAAC,EAAEH,sBAAsB,CAACK,UADvB;AAEHD,MAAAA,CAAC,EAAEJ,sBAAsB,CAACM;AAFvB,KAAP;AAIH;;AACDL,EAAAA,yBAAyB,CAACpB,EAAD,EAAK;AAC1B,QAAI,CAACA,EAAD,IAAO,CAAC9B,0BAA0B,EAAtC,EAA0C;AACtC,aAAO,IAAP;AACH;;AACD,QAAIV,MAAM,GAAG,KAAKiD,aAAL,CAAmBT,EAAnB,EAAuBvC,aAApC;;AACA,WAAOD,MAAP,EAAe;AACX,UAAIhB,MAAM,CAACY,gBAAP,CAAwBI,MAAxB,EAAgCc,SAAhC,KAA8C,MAAlD,EAA0D;AACtD,eAAOd,MAAP;AACH;;AACDA,MAAAA,MAAM,GAAGA,MAAM,CAACC,aAAhB;AACH;;AACD,WAAO,IAAP;AACH;;AACDiE,EAAAA,mBAAmB,CAAC1B,EAAD,EAAK;AACpB,WAAO,CAAC,CAAC,KAAKoB,yBAAL,CAA+BpB,EAA/B,CAAT;AACH;;AACD2B,EAAAA,cAAc,CAAC3B,EAAD,EAAK;AACf,WAAO5F,iBAAiB,CAAC,KAAKqG,aAAL,CAAmBT,EAAnB,CAAD,CAAxB;AACH;;AACDpB,EAAAA,MAAM,CAACC,MAAD,EAASC,SAAT,EAAoB;AACtB,WAAOF,MAAM,CAACC,MAAD,EAAS,KAAK4B,aAAL,CAAmB3B,SAAnB,CAAT,CAAb;AACH;;AACD8C,EAAAA,SAAS,GAAG;AACR,QAAI,CAACtH,mBAAmB,EAApB,IAA0B,CAACiC,iBAAiB,EAAhD,EAAoD;AAChD,aAAO,CAAP;AACH;;AACD,WAAOsF,UAAU,CAAC,CAAC1D,QAAQ,CAAC2D,eAAT,CAAyBC,WAAzB,GAAuCvF,MAAM,CAACwF,UAA/C,EAA2DC,OAA3D,CAAmE,CAAnE,CAAD,CAAV,IAAqF,CAA5F;AACH;;AACDC,EAAAA,QAAQ,GAAG;AACP,WAAO,KAAKN,SAAL,KAAmB,CAA1B;AACH;;AAhIY;;AAkIjBjC,UAAU,CAACwC,IAAX;AAAA,mBAAwGxC,UAAxG;AAAA;;AACAA,UAAU,CAACyC,KAAX,kBAD8FvJ,EAC9F;AAAA,SAA4G8G,UAA5G;AAAA,WAA4GA,UAA5G;AAAA;;AACA;AAAA,qDAF8F9G,EAE9F,mBAA4F8G,UAA5F,EAAoH,CAAC;AACzG0C,IAAAA,IAAI,EAAEtJ;AADmG,GAAD,CAApH;AAAA;AAIA;AACA;AACA;;;AACA,MAAMuJ,YAAN,CAAmB;AACfC,EAAAA,WAAW,CAACC,IAAD,EAAOhD,KAAK,GAAG,CAAf,EAAkB;AACzB,SAAKgD,IAAL,GAAYA,IAAZ;AACA,SAAKhD,KAAL,GAAaA,KAAb;AACH;;AACDiD,EAAAA,YAAY,CAAC1C,QAAD,EAAW;AACnB,UAAM;AAAElB,MAAAA,MAAF;AAAU/B,MAAAA,OAAV;AAAmB4F,MAAAA,WAAnB;AAAgCC,MAAAA,YAAhC;AAA8CC,MAAAA,MAA9C;AAAsD7I,MAAAA,MAAtD;AAA8D8I,MAAAA;AAA9D,QAA+E9C,QAArF;AACA,UAAMP,KAAK,GAAG,KAAKA,KAAL,IAAc,CAA5B;AACA,UAAMsD,SAAS,GAAGD,YAAY,KAAK,OAAjB,IAA4B,CAAC,KAAKL,IAAL,CAAUhC,eAAV,CAA0B1D,OAA1B,CAA/C;AACA,UAAMiG,UAAU,GAAGD,SAAS,GAAG,KAAKE,YAAL,CAAkBnE,MAAlB,EAA0B/B,OAA1B,EAAmC/C,MAAnC,EAA2CyF,KAA3C,CAAH,GAAuD,KAAKyD,YAAL,CAAkBpE,MAAlB,EAA0B/B,OAA1B,EAAmC/C,MAAnC,EAA2CyF,KAA3C,CAAnF;AACA,UAAM0D,WAAW,GAAG3D,SAAS,CAAC,KAAKiD,IAAL,CAAUzI,MAAV,CAAiB+C,OAAO,CAAC2D,aAAzB,CAAD,EAA0CjB,KAA1C,CAA7B;;AACA,UAAM7D,MAAM,GAAG,KAAK6G,IAAL,CAAU3I,KAAV,CAAgB;AAC3B6I,MAAAA,WAAW,EAAEA,WADc;AAE3BK,MAAAA,UAAU,EAAEA,UAFe;AAG3BJ,MAAAA,YAAY,EAAEA,YAHa;AAI3BO,MAAAA,WAAW,EAAEA,WAJc;AAK3BN,MAAAA;AAL2B,KAAhB,CAAf;;AAOA,WAAOjH,MAAP;AACH;;AACDqH,EAAAA,YAAY,CAACnE,MAAD,EAAS/B,OAAT,EAAkB/C,MAAlB,EAA0ByF,KAA1B,EAAiC;AACzC,UAAM2D,SAAS,GAAG,KAAKC,qBAAL,CAA2BvE,MAA3B,EAAmC/B,OAAnC,CAAlB;AACA,UAAMzB,IAAI,GAAGD,UAAU,CAAC,KAAKoH,IAAL,CAAUzI,MAAV,CAAiB8E,MAAjB,CAAD,EAA2B9E,MAA3B,CAAvB;AACA,UAAMsJ,UAAU,GAAG,IAAI7D,KAAvB;;AACA,UAAM8D,WAAW,GAAG,KAAKd,IAAL,CAAUnB,qBAAV,CAAgCvE,OAAhC,CAApB;;AACA,QAAI0C,KAAK,KAAK,CAAV,IAAe8D,WAAnB,EAAgC;AAC5BA,MAAAA,WAAW,CAAChC,CAAZ,IAAiB+B,UAAjB;AACAC,MAAAA,WAAW,CAAC/B,CAAZ,IAAiB8B,UAAjB;AACH;;AACD,UAAME,WAAW,GAAG,KAAKf,IAAL,CAAUtB,qBAAV,CAAgCpE,OAAhC,CAApB;;AACA,QAAI0C,KAAK,KAAK,CAAV,IAAe+D,WAAnB,EAAgC;AAC5BA,MAAAA,WAAW,CAAChI,IAAZ,IAAoB8H,UAApB;AACAE,MAAAA,WAAW,CAAC/H,GAAZ,IAAmB6H,UAAnB;AACH;;AACD,WAAO,KAAKb,IAAL,CAAUvI,YAAV,CAAuB,KAAKuI,IAAL,CAAU5I,SAAV,CAAoBgC,oBAAoB,CAAC2D,SAAS,CAAClE,IAAD,EAAOmE,KAAP,CAAV,EAAyB+D,WAAzB,CAAxC,EAA+ED,WAA/E,CAAvB,EAAoHH,SAApH,CAAP;AACH;;AACDC,EAAAA,qBAAqB,CAACvE,MAAD,EAAS/B,OAAT,EAAkB;AACnC,WAAO+B,MAAM,GAAG;AAAEyC,MAAAA,CAAC,EAAE,CAAL;AAAQC,MAAAA,CAAC,EAAE;AAAX,KAAH,GAAoB,KAAKiB,IAAL,CAAUrI,cAAV,CAAyB2C,OAAzB,CAAjC;AACH;;AACDmG,EAAAA,YAAY,CAACpE,MAAD,EAAS/B,OAAT,EAAkB/C,MAAlB,EAA0ByF,KAA1B,EAAiC;AACzC,UAAMnE,IAAI,GAAGD,UAAU,CAAC,KAAKoH,IAAL,CAAUxB,QAAV,CAAmBnC,MAAnB,EAA2B/B,OAA3B,EAAoC0C,KAApC,CAAD,EAA6CzF,MAA7C,CAAvB;AACA,WAAOwF,SAAS,CAAClE,IAAD,EAAOmE,KAAP,CAAhB;AACH;;AA1Cc;;AA4CnB8C,YAAY,CAACH,IAAb;AAAA,mBAA0GG,YAA1G,EArD8FzJ,EAqD9F,UAAwI8G,UAAxI,GArD8F9G,EAqD9F,UAA+J4G,KAA/J;AAAA;;AACA6C,YAAY,CAACF,KAAb,kBAtD8FvJ,EAsD9F;AAAA,SAA8GyJ,YAA9G;AAAA,WAA8GA,YAA9G;AAAA;;AACA;AAAA,qDAvD8FzJ,EAuD9F,mBAA4FyJ,YAA5F,EAAsH,CAAC;AAC3GD,IAAAA,IAAI,EAAEtJ;AADqG,GAAD,CAAtH,EAE4B,YAAY;AAAE,WAAO,CAAC;AAAEsJ,MAAAA,IAAI,EAAE1C;AAAR,KAAD,EAAuB;AAAE0C,MAAAA,IAAI,EAAEmB,SAAR;AAAmBC,MAAAA,UAAU,EAAE,CAAC;AACpFpB,QAAAA,IAAI,EAAErJ,MAD8E;AAEpFiF,QAAAA,IAAI,EAAE,CAACwB,KAAD;AAF8E,OAAD,EAGpF;AACC4C,QAAAA,IAAI,EAAEpJ;AADP,OAHoF;AAA/B,KAAvB,CAAP;AAKlB,GAPxB;AAAA;AASA;AACA;AACA;;;AACA,MAAMyK,eAAN,CAAsB;AAClBnB,EAAAA,WAAW,CAACC,IAAD,EAAOhD,KAAK,GAAG,CAAf,EAAkB;AACzB,SAAKgD,IAAL,GAAYA,IAAZ;AACA,SAAKhD,KAAL,GAAaA,KAAb;AACH;;AACDmE,EAAAA,eAAe,CAAC5D,QAAD,EAAW;AACtB,UAAM;AAAElB,MAAAA,MAAF;AAAU+B,MAAAA,eAAV;AAA2B9D,MAAAA,OAA3B;AAAoC4F,MAAAA,WAApC;AAAiDC,MAAAA,YAAjD;AAA+DiB,MAAAA,UAA/D;AAA2EhB,MAAAA;AAA3E,QAAsF7C,QAA5F;AACA,UAAM8D,GAAG,GAAG,KAAKrB,IAAjB;AACA,UAAMhD,KAAK,GAAG,KAAKA,KAAL,IAAc,CAA5B;AACA,UAAMsE,aAAa,GAAGD,GAAG,CAAClD,aAAJ,CAAkB7D,OAAlB,EAA2B8D,eAA3B,CAAtB;AACA,UAAMsC,WAAW,GAAG3D,SAAS,CAACuE,aAAD,EAAgBtE,KAAhB,CAA7B;AACA,UAAMuE,YAAY,GAAGxE,SAAS,CAACsE,GAAG,CAAC9J,MAAJ,CAAW8E,MAAX,CAAD,EAAqBW,KAArB,CAA9B;AACA,UAAMuD,UAAU,GAAG3H,UAAU,CAAC2I,YAAD,EAAenD,eAAf,CAA7B;AACA,UAAMoD,QAAQ,GAAGjE,QAAQ,CAACiE,QAAT,IAAqBH,GAAG,CAAClC,cAAJ,CAAmB7E,OAAnB,CAAtC;AACAkH,IAAAA,QAAQ,CAACvI,KAAT,GAAiBuI,QAAQ,CAACvI,KAAT,GAAiB+D,KAAlC;AACAwE,IAAAA,QAAQ,CAAC1I,MAAT,GAAkB0I,QAAQ,CAAC1I,MAAT,GAAkBkE,KAApC;AACA,UAAM7D,MAAM,GAAGkI,GAAG,CAAC3J,cAAJ,CAAmB;AAC9BwI,MAAAA,WAD8B;AAE9BK,MAAAA,UAF8B;AAG9Ba,MAAAA,UAH8B;AAI9BjB,MAAAA,YAJ8B;AAK9BO,MAAAA,WAL8B;AAM9BN,MAAAA,MAN8B;AAO9BoB,MAAAA;AAP8B,KAAnB,CAAf;AASA,UAAMjK,MAAM,GAAG8J,GAAG,CAACjE,SAAJ,CAAcgB,eAAd,EAA+BjF,MAAM,CAAC5B,MAAtC,CAAf;AACA,WAAO;AACHkK,MAAAA,IAAI,EAAEtI,MAAM,CAACsI,IADV;AAEHC,MAAAA,OAAO,EAAEvI,MAAM,CAACuI,OAFb;AAGHnK,MAAAA,MAAM,EAAEA;AAHL,KAAP;AAKH;;AA/BiB;;AAiCtB2J,eAAe,CAACvB,IAAhB;AAAA,mBAA6GuB,eAA7G,EApG8F7K,EAoG9F,UAA8I8G,UAA9I,GApG8F9G,EAoG9F,UAAqK4G,KAArK;AAAA;;AACAiE,eAAe,CAACtB,KAAhB,kBArG8FvJ,EAqG9F;AAAA,SAAiH6K,eAAjH;AAAA,WAAiHA,eAAjH;AAAA;;AACA;AAAA,qDAtG8F7K,EAsG9F,mBAA4F6K,eAA5F,EAAyH,CAAC;AAC9GrB,IAAAA,IAAI,EAAEtJ;AADwG,GAAD,CAAzH,EAE4B,YAAY;AAAE,WAAO,CAAC;AAAEsJ,MAAAA,IAAI,EAAE1C;AAAR,KAAD,EAAuB;AAAE0C,MAAAA,IAAI,EAAEmB,SAAR;AAAmBC,MAAAA,UAAU,EAAE,CAAC;AACpFpB,QAAAA,IAAI,EAAErJ,MAD8E;AAEpFiF,QAAAA,IAAI,EAAE,CAACwB,KAAD;AAF8E,OAAD,EAGpF;AACC4C,QAAAA,IAAI,EAAEpJ;AADP,OAHoF;AAA/B,KAAvB,CAAP;AAKlB,GAPxB;AAAA;AASA;AACA;AACA;;;AACA,MAAMkL,aAAN,CAAoB;AAChB5B,EAAAA,WAAW,CAACC,IAAD,EAAO4B,KAAP,EAAc;AACrB,SAAK5B,IAAL,GAAYA,IAAZ;AACA,SAAK4B,KAAL,GAAaA,KAAb;AACH;;AACDC,EAAAA,SAAS,CAACC,QAAD,EAAW;AAChB,QAAI,CAAChK,mBAAmB,EAAxB,EAA4B;AACxB;AACH;;AACD,SAAK8J,KAAL,CAAWG,iBAAX,CAA6B,MAAM;AAC/B,WAAKC,YAAL,GAAoB9J,SAAS,CAAC,KAAK8H,IAAL,CAAUtC,SAAV,EAAD,EAAwB,QAAxB,CAAT,CACfuE,IADe,CACV5J,SAAS,CAACgD,cAAD,CADC,EAEfwG,SAFe,CAEL,MAAMC,QAAQ,EAFT,CAApB;AAGH,KAJD;AAKH;;AACDI,EAAAA,WAAW,GAAG;AACV,QAAI,CAAC,KAAKF,YAAV,EAAwB;AACpB;AACH;;AACD,SAAKA,YAAL,CAAkBE,WAAlB;AACH;;AACDC,EAAAA,cAAc,GAAG;AACb,WAAO,KAAKH,YAAL,IAAqB,KAAKA,YAAL,CAAkBI,MAA9C;AACH;;AAvBe;;AAyBpBT,aAAa,CAAChC,IAAd;AAAA,mBAA2GgC,aAA3G,EA3I8FtL,EA2I9F,UAA0I8G,UAA1I,GA3I8F9G,EA2I9F,UAAiKA,EAAE,CAACgM,MAApK;AAAA;;AACAV,aAAa,CAAC/B,KAAd,kBA5I8FvJ,EA4I9F;AAAA,SAA+GsL,aAA/G;AAAA,WAA+GA,aAA/G;AAAA;;AACA;AAAA,qDA7I8FtL,EA6I9F,mBAA4FsL,aAA5F,EAAuH,CAAC;AAC5G9B,IAAAA,IAAI,EAAEtJ;AADsG,GAAD,CAAvH,EAE4B,YAAY;AAAE,WAAO,CAAC;AAAEsJ,MAAAA,IAAI,EAAE1C;AAAR,KAAD,EAAuB;AAAE0C,MAAAA,IAAI,EAAExJ,EAAE,CAACgM;AAAX,KAAvB,CAAP;AAAqD,GAF/F;AAAA;AAIA;AACA;AACA;;;AACA,MAAMC,cAAc,GAAG,CAAvB;AACA;AACA;AACA;;AACA,MAAMC,iBAAN,CAAwB;AACpBxC,EAAAA,WAAW,CAACC,IAAD,EAAO4B,KAAP,EAAc;AACrB,SAAK5B,IAAL,GAAYA,IAAZ;AACA,SAAK4B,KAAL,GAAaA,KAAb;AACH;;AACDY,EAAAA,UAAU,CAAClI,OAAD,EAAU;AAChB,SAAK4H,WAAL;AACA,SAAK5H,OAAL,GAAeA,OAAf;AACA,WAAO,IAAP;AACH;;AACDuH,EAAAA,SAAS,CAACC,QAAD,EAAW;AAChB,QAAI,CAACA,QAAD,IAAa,CAAChK,mBAAmB,EAAjC,IAAuC,CAAC,KAAKwC,OAAjD,EAA0D;AACtD;AACH;;AACD,UAAMnD,OAAO,GAAG,KAAK6I,IAAL,CAAUlF,iBAAV,CAA4B,KAAKR,OAAjC,CAAhB;;AACA,SAAKsH,KAAL,CAAWG,iBAAX,CAA6B,MAAM;AAC/B,YAAMU,WAAW,GAAGtL,OAAO,CAACyG,GAAR,CAAYjB,CAAC,IAAIzE,SAAS,CAACyE,CAAD,EAAI,QAAJ,CAAT,CAAuBsF,IAAvB,CAA4B5J,SAAS,CAACgD,cAAD,CAArC,CAAjB,CAApB;;AACA,YAAMqH,UAAU,GAAIC,CAAD,IAAO;AACtB,cAAMC,MAAM,GAAGD,CAAC,CAACC,MAAjB;AACA,cAAMC,QAAQ,GAAG1L,OAAO,CAAC2L,MAAR,CAAenG,CAAC,IAAIA,CAAC,KAAKiG,MAA1B,EAAkCG,MAAlC,GAA2C,CAA5D;AACA,cAAMC,UAAU,GAAGJ,MAAM,KAAKjH,QAA9B;AACA,cAAMsH,QAAQ,GAAGL,MAAM,KAAK5I,MAA5B;;AACA,YAAI6I,QAAQ,IAAIG,UAAZ,IAA0BC,QAA9B,EAAwC;AACpCnB,UAAAA,QAAQ,CAAC,KAAKoB,SAAL,CAAe,KAAK5I,OAApB,EAA6BsI,MAA7B,CAAD,CAAR;AACH;AACJ,OARD;;AASA,WAAKZ,YAAL,GAAoB7J,KAAK,CAAC,GAAGsK,WAAJ,CAAL,CAAsBZ,SAAtB,CAAgCa,UAAhC,CAApB;AACH,KAZD;AAaH;;AACDR,EAAAA,WAAW,GAAG;AACV,QAAI,CAAC,KAAKF,YAAV,EAAwB;AACpB;AACH;;AACD,SAAKA,YAAL,CAAkBE,WAAlB;AACH;;AACDgB,EAAAA,SAAS,CAAChJ,IAAD,EAAOoC,SAAP,EAAkB;AACvB,UAAM6G,QAAQ,GAAG,KAAKnD,IAAL,CAAU1I,cAAV,CAAyB4C,IAAzB,CAAjB;;AACA,UAAMkJ,aAAa,GAAG,KAAKpD,IAAL,CAAU1I,cAAV,CAAyB,KAAK0I,IAAL,CAAU/B,aAAV,CAAwB3B,SAAxB,CAAzB,CAAtB;;AACA,QAAIgG,cAAc,GAAIc,aAAa,CAACpK,GAAd,GAAoBmK,QAAQ,CAACE,MAAnD,EAA4D;AACxD,aAAO,KAAP;AACH;;AACD,QAAIf,cAAc,GAAIa,QAAQ,CAACnK,GAAT,GAAeoK,aAAa,CAACC,MAAnD,EAA4D;AACxD,aAAO,KAAP;AACH;;AACD,QAAIf,cAAc,GAAIa,QAAQ,CAACpK,IAAT,GAAgBqK,aAAa,CAACE,KAApD,EAA4D;AACxD,aAAO,KAAP;AACH;;AACD,QAAIhB,cAAc,GAAIc,aAAa,CAACrK,IAAd,GAAqBoK,QAAQ,CAACG,KAApD,EAA4D;AACxD,aAAO,KAAP;AACH;;AACD,WAAO,IAAP;AACH;;AAnDmB;;AAqDxBf,iBAAiB,CAAC5C,IAAlB;AAAA,mBAA+G4C,iBAA/G,EA7M8FlM,EA6M9F,UAAkJ8G,UAAlJ,GA7M8F9G,EA6M9F,UAAyKA,EAAE,CAACgM,MAA5K;AAAA;;AACAE,iBAAiB,CAAC3C,KAAlB,kBA9M8FvJ,EA8M9F;AAAA,SAAmHkM,iBAAnH;AAAA,WAAmHA,iBAAnH;AAAA;;AACA;AAAA,qDA/M8FlM,EA+M9F,mBAA4FkM,iBAA5F,EAA2H,CAAC;AAChH1C,IAAAA,IAAI,EAAEtJ;AAD0G,GAAD,CAA3H,EAE4B,YAAY;AAAE,WAAO,CAAC;AAAEsJ,MAAAA,IAAI,EAAE1C;AAAR,KAAD,EAAuB;AAAE0C,MAAAA,IAAI,EAAExJ,EAAE,CAACgM;AAAX,KAAvB,CAAP;AAAqD,GAF/F;AAAA;;AAIA,MAAMkB,IAAI,GAAG,MAAb;AACA,MAAMC,KAAK,GAAG,OAAd;AACA,MAAMC,IAAI,GAAG,MAAb;AACA,MAAMC,EAAE,GAAG,IAAX;AACA,MAAMC,YAAY,GAAG,OAArB;AACA,MAAMC,gBAAgB,GAAG,GAAzB;AACA,MAAMC,cAAc,GAAG,EAAvB;;AACAA,cAAc,CAACC,MAAf,GAAyBC,SAAD,IAAe;AACnC,QAAM/G,KAAK,GAAG+G,SAAS,KAAKL,EAAd,IAAoBK,SAAS,KAAKN,IAAlC,GAAyC,QAAzC,GAAoD,QAAlE;AACA,QAAMO,UAAU,GAAG,CAAnB;AACA,QAAMC,QAAQ,GAAG,CAAjB;AACA,MAAIC,MAAJ;;AACA,MAAIH,SAAS,KAAKN,IAAlB,EAAwB;AACpBS,IAAAA,MAAM,GAAG,KAAT;AACH,GAFD,MAGK,IAAIH,SAAS,KAAKR,IAAlB,EAAwB;AACzBW,IAAAA,MAAM,GAAGV,KAAT;AACH,GAFI,MAGA,IAAIO,SAAS,KAAKP,KAAlB,EAAyB;AAC1BU,IAAAA,MAAM,GAAGX,IAAT;AACH,GAFI,MAGA;AACDW,IAAAA,MAAM,GAAG,QAAT;AACH;;AACD,SAAO;AACHC,IAAAA,KAAK,EAAE;AAAErI,MAAAA,SAAS,EAAG,GAAEkB,KAAM,IAAGgH,UAAW,GAApC;AAAwCI,MAAAA,eAAe,EAAEF;AAAzD,KADJ;AAEHG,IAAAA,GAAG,EAAE;AAAEvI,MAAAA,SAAS,EAAG,GAAEkB,KAAM,IAAGiH,QAAS;AAAlC;AAFF,GAAP;AAIH,CArBD;;AAsBAJ,cAAc,CAACS,KAAf,GAAwBP,SAAD,IAAe;AAClC,QAAMQ,SAAS,GAAGR,SAAS,KAAKR,IAAd,IAAsBQ,SAAS,KAAKP,KAApC,GAA4C,YAA5C,GAA2D,YAA7E;AACA,QAAMW,KAAK,GAAGJ,SAAS,KAAKP,KAAd,IAAuBO,SAAS,KAAKN,IAArC,GAA4C,CAAC,GAA7C,GAAmD,GAAjE;AACA,QAAMY,GAAG,GAAG,CAAZ;AACA,SAAO;AACHF,IAAAA,KAAK,EAAE;AAAErI,MAAAA,SAAS,EAAG,GAAEyI,SAAU,IAAGJ,KAAM;AAAnC,KADJ;AAEHE,IAAAA,GAAG,EAAE;AAAEvI,MAAAA,SAAS,EAAG,GAAEyI,SAAU,IAAGF,GAAI;AAAjC;AAFF,GAAP;AAIH,CARD;;AASAR,cAAc,CAACW,IAAf,GAAsB,MAAM;AACxB,SAAO;AACHL,IAAAA,KAAK,EAAE;AAAEM,MAAAA,OAAO,EAAE;AAAX,KADJ;AAEHJ,IAAAA,GAAG,EAAE;AAAEI,MAAAA,OAAO,EAAE;AAAX;AAFF,GAAP;AAIH,CALD;;AAMAZ,cAAc,CAACa,IAAf,GAAsB,MAAM;AACxB,QAAMP,KAAK,GAAG,CAAd;AACA,QAAME,GAAG,GAAG,CAAZ;AACA,SAAO;AACHF,IAAAA,KAAK,EAAE;AAAErI,MAAAA,SAAS,EAAG,SAAQqI,KAAM;AAA5B,KADJ;AAEHE,IAAAA,GAAG,EAAE;AAAEvI,MAAAA,SAAS,EAAG,SAAQuI,GAAI;AAA1B;AAFF,GAAP;AAIH,CAPD;AAQA;AACA;AACA;;;AACA,MAAMM,gBAAN,CAAuB;AACnB5E,EAAAA,WAAW,CAAC6E,gBAAD,EAAmB;AAC1B,SAAKA,gBAAL,GAAwBA,gBAAxB;AACA,SAAKT,KAAL,GAAa,IAAIzN,YAAJ,EAAb;AACA,SAAK2N,GAAL,GAAW,IAAI3N,YAAJ,EAAX;AACH;;AACDmO,EAAAA,IAAI,CAACvK,OAAD,EAAUwK,OAAV,EAAmBrD,IAAnB,EAAyB;AACzB,QAAI,CAAC,KAAKA,IAAN,IAAc,KAAKA,IAAL,CAAUsD,UAAV,KAAyBtD,IAAI,CAACsD,UAA5C,IACA,KAAKtD,IAAL,CAAUuD,QAAV,KAAuBvD,IAAI,CAACuD,QADhC,EAC0C;AACtC,WAAKvD,IAAL,GAAYA,IAAZ;AACA,YAAM5B,IAAI,GAAGiF,OAAO,CAACjF,IAAR,IAAgB8D,YAA7B;AACA,YAAMsB,QAAQ,GAAGpB,cAAc,CAAChE,IAAD,CAA/B;;AACA,UAAIoF,QAAJ,EAAc;AACV,cAAMlB,SAAS,GAAG,KAAKmB,YAAL,CAAkBzD,IAAlB,EAAwBqD,OAAxB,CAAlB;AACA,cAAMK,MAAM,GAAGF,QAAQ,CAAClB,SAAD,CAAvB;AACA,aAAKqB,UAAL,CAAgB9K,OAAhB,EAAyB6K,MAAzB,EAAiCL,OAAjC;AACH,OAJD,MAKK,IAAInO,SAAS,EAAb,EAAiB;AAClB,cAAM,IAAI0O,KAAJ,CAAW,gCAA+BxF,IAAK,0DAA/C,CAAN;AACH;AACJ;AACJ;;AACDyF,EAAAA,WAAW,GAAG;AACV,SAAKC,UAAL;AACH;;AACDH,EAAAA,UAAU,CAAC9K,OAAD,EAAU6K,MAAV,EAAkBL,OAAlB,EAA2B;AACjC,SAAKS,UAAL;AACA,UAAMC,QAAQ,GAAGV,OAAO,CAACU,QAAR,IAAoB5B,gBAArC;AACA,UAAM6B,OAAO,GAAG,KAAKb,gBAAL,CAAsBc,KAAtB,CAA4B,CACxCnN,KAAK,CAAC4M,MAAM,CAAChB,KAAR,CADmC,EAExC3L,OAAO,CAAE,GAAEgN,QAAS,YAAb,EAA0BjN,KAAK,CAAC4M,MAAM,CAACd,GAAR,CAA/B,CAFiC,CAA5B,CAAhB;AAIA,UAAMsB,MAAM,GAAG,KAAKA,MAAL,GAAcF,OAAO,CAACG,MAAR,CAAetL,OAAf,CAA7B;AACAqL,IAAAA,MAAM,CAACE,MAAP,CAAc,MAAM;AAChB,WAAKxB,GAAL,CAASyB,IAAT;AACA,WAAKP,UAAL;AACH,KAHD;AAIA,SAAKpB,KAAL,CAAW2B,IAAX;AACAH,IAAAA,MAAM,CAACd,IAAP;AACH;;AACDK,EAAAA,YAAY,CAACzD,IAAD,EAAOqD,OAAP,EAAgB;AACxB,QAAIf,SAAS,GAAGe,OAAO,CAACf,SAAR,IAAqBN,IAArC;;AACA,QAAIhC,IAAI,CAACsD,UAAT,EAAqB;AACjB,UAAIhB,SAAS,KAAKR,IAAlB,EAAwB;AACpBQ,QAAAA,SAAS,GAAGP,KAAZ;AACH,OAFD,MAGK,IAAIO,SAAS,KAAKP,KAAlB,EAAyB;AAC1BO,QAAAA,SAAS,GAAGR,IAAZ;AACH;AACJ;;AACD,QAAI9B,IAAI,CAACuD,QAAT,EAAmB;AACf,UAAIjB,SAAS,KAAKN,IAAlB,EAAwB;AACpBM,QAAAA,SAAS,GAAGL,EAAZ;AACH,OAFD,MAGK,IAAIK,SAAS,KAAKL,EAAlB,EAAsB;AACvBK,QAAAA,SAAS,GAAGN,IAAZ;AACH;AACJ;;AACD,WAAOM,SAAP;AACH;;AACDwB,EAAAA,UAAU,GAAG;AACT,QAAI,KAAKI,MAAT,EAAiB;AACb,WAAKA,MAAL,CAAYI,OAAZ;AACA,WAAKJ,MAAL,GAAc,IAAd;AACH;AACJ;;AAjEkB;;AAmEvBhB,gBAAgB,CAAChF,IAAjB;AAAA,mBAA8GgF,gBAA9G,EA7U8FtO,EA6U9F,UAAgJiC,EAAE,CAAC0N,gBAAnJ;AAAA;;AACArB,gBAAgB,CAAC/E,KAAjB,kBA9U8FvJ,EA8U9F;AAAA,SAAkHsO,gBAAlH;AAAA,WAAkHA,gBAAlH;AAAA;;AACA;AAAA,qDA/U8FtO,EA+U9F,mBAA4FsO,gBAA5F,EAA0H,CAAC;AAC/G9E,IAAAA,IAAI,EAAEtJ;AADyG,GAAD,CAA1H,EAE4B,YAAY;AAAE,WAAO,CAAC;AAAEsJ,MAAAA,IAAI,EAAEvH,EAAE,CAAC0N;AAAX,KAAD,CAAP;AAAyC,GAFnF;AAAA;AAIA;AACA;AACA;;;AACA,MAAMC,eAAe,GAAG;AACpBC,EAAAA,IAAI,EAAE,+BADc;AAEpBC,EAAAA,WAAW,EAAE,sBAFO;AAGpBC,EAAAA,YAAY,EAAE,CAAC,gBAAD,EAAmB,iBAAnB,CAHM;AAIpBC,EAAAA,WAAW,EAAE,UAJO;AAKpBC,EAAAA,OAAO,EAAE,EALW;AAMpBC,EAAAA,gBAAgB,EAAE;AANE,CAAxB;AASA,MAAMC,cAAc,GAAG;AAAEzN,EAAAA,IAAI,EAAE,CAAC,KAAT;AAAgBC,EAAAA,GAAG,EAAE;AAArB,CAAvB;AACA,MAAMyN,mBAAmB,GAAG,uBAA5B;AACA,MAAMC,yBAAyB,GAAG,6BAAlC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACA,MAAMC,cAAN,CAAqB;AACjB5G,EAAAA,WAAW,CAACzD,SAAD,EAAYsK,aAAZ,EAA2BC,UAA3B,EAAuCC,gBAAvC,EAAyDC,cAAzD,EAAyEC,kBAAzE,EAA6FC,gBAA7F,EAA+GC,SAA/G,EAA0HtF,KAA1H,EAAiI;AACxI,SAAKtF,SAAL,GAAiBA,SAAjB;AACA,SAAKsK,aAAL,GAAqBA,aAArB;AACA,SAAKC,UAAL,GAAkBA,UAAlB;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,cAAL,GAAsBA,cAAtB;AACA,SAAKC,kBAAL,GAA0BA,kBAA1B;AACA,SAAKC,gBAAL,GAAwBA,gBAAxB;AACA,SAAKC,SAAL,GAAiBA,SAAjB;AACA,SAAKtF,KAAL,GAAaA,KAAb;AACA;AACR;AACA;AACA;;AACQ,SAAKpJ,OAAL,GAAe,IAAf;AACA;AACR;AACA;AACA;;AACQ,SAAK0H,WAAL,GAAmB;AAAE6E,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,QAAQ,EAAE;AAAhC,KAAnB;AACA;AACR;AACA;AACA;;AACQ,SAAKmC,SAAL,GAAiB;AAAEpC,MAAAA,UAAU,EAAE,KAAd;AAAqBC,MAAAA,QAAQ,EAAE;AAA/B,KAAjB;AACA;AACR;AACA;AACA;;AACQ,SAAKoC,UAAL,GAAkB;AAAErC,MAAAA,UAAU,EAAE,MAAd;AAAsBC,MAAAA,QAAQ,EAAE;AAAhC,KAAlB;AACA;AACR;AACA;;AACQ,SAAKqC,gBAAL,GAAwB,KAAxB;AACA;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AACQ,SAAKhH,YAAL,GAAoB,OAApB;AACA;AACR;AAC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","sourcesContent":["/**-----------------------------------------------------------------------------------------\n* Copyright © 2021 Progress Software Corporation. All rights reserved.\n* Licensed under commercial license. See LICENSE.md in the project root for more information\n*-------------------------------------------------------------------------------------------*/\nimport * as i0 from '@angular/core';\nimport { InjectionToken, Injectable, Inject, Optional, EventEmitter, isDevMode, Component, Input, Output, ViewChild, TemplateRef, NgModule } from '@angular/core';\nimport { siblingContainer, parents, addScroll, align, boundingOffset, offset, positionWithScroll, removeScroll, restrictToView, scrollPosition, getWindowViewPort } from '@progress/kendo-popup-common';\nimport * as i7 from '@progress/kendo-angular-common';\nimport { isDocumentAvailable, hasObservers, ResizeSensorComponent, ResizeSensorModule } from '@progress/kendo-angular-common';\nimport { fromEvent, merge, from } from 'rxjs';\nimport { auditTime } from 'rxjs/operators';\nimport * as i1 from '@angular/animations';\nimport { style, animate } from '@angular/animations';\nimport { validatePackage } from '@progress/kendo-licensing';\nimport * as i8 from '@angular/common';\nimport { CommonModule } from '@angular/common';\n\n/**\n * @hidden\n */\nconst eitherRect = (rect, offset) => {\n    if (!rect) {\n        return { height: 0, left: offset.left, top: offset.top, width: 0 };\n    }\n    return rect;\n};\n/**\n * @hidden\n */\nconst replaceOffset = (rect, offset) => {\n    if (!offset) {\n        return rect;\n    }\n    const result = {\n        height: rect.height,\n        left: offset.left,\n        top: offset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nconst removeStackingOffset = (rect, stackingOffset) => {\n    if (!stackingOffset) {\n        return rect;\n    }\n    const result = {\n        height: rect.height,\n        left: rect.left - stackingOffset.left,\n        top: rect.top - stackingOffset.top,\n        width: rect.width\n    };\n    return result;\n};\n/**\n * @hidden\n */\nconst isDifferentOffset = (oldOffset, newOffset) => {\n    const { left: oldLeft, top: oldTop } = oldOffset;\n    const { left: newLeft, top: newTop } = newOffset;\n    return Math.abs(oldLeft - newLeft) >= 1 || Math.abs(oldTop - newTop) >= 1;\n};\n/**\n * @hidden\n */\nconst isWindowAvailable = () => {\n    return typeof window !== 'undefined';\n};\n/**\n * @hidden\n */\nconst hasBoundingRect = (elem) => !!elem.getBoundingClientRect;\n/**\n * @hidden\n */\nconst OVERFLOW_REGEXP = /auto|scroll/;\nconst overflowElementStyle = (element) => {\n    return `${element.style.overflow}${element.style.overflowX}${element.style.overflowY}`;\n};\nconst overflowComputedStyle = (element) => {\n    const styles = window.getComputedStyle(element);\n    return `${styles.overflow}${styles.overflowX}${styles.overflowY}`;\n};\nconst overflowStyle = (element) => {\n    return overflowElementStyle(element) || overflowComputedStyle(element);\n};\n/**\n * @hidden\n */\nconst scrollableParents = (element) => {\n    const parentElements = [];\n    if (!isDocumentAvailable() || !isWindowAvailable()) {\n        return parentElements;\n    }\n    let parent = element.parentElement;\n    while (parent) {\n        if (OVERFLOW_REGEXP.test(overflowStyle(parent)) || parent.hasAttribute('data-scrollable')) {\n            parentElements.push(parent);\n        }\n        parent = parent.parentElement;\n    }\n    parentElements.push(window);\n    return parentElements;\n};\n/**\n * @hidden\n */\nconst FRAME_DURATION = 1000 / 60; //1000ms divided by 60fps\nfunction memoize(fun) {\n    let result;\n    let called = false;\n    return (...args) => {\n        if (called) {\n            return result;\n        }\n        result = fun(...args);\n        called = true;\n        return result;\n    };\n}\n/**\n * @hidden\n */\nconst hasRelativeStackingContext = memoize(() => {\n    if (!isDocumentAvailable() && document.body !== null) {\n        return false;\n    }\n    const top = 10;\n    const parent = document.createElement(\"div\");\n    parent.style.transform = \"matrix(10, 0, 0, 10, 0, 0)\";\n    parent.innerHTML = `<div style=\"position: fixed; top: ${top}px;\">child</div>`;\n    document.body.appendChild(parent);\n    const isDifferent = parent.children[0].getBoundingClientRect().top !== top;\n    document.body.removeChild(parent);\n    return isDifferent;\n});\n/**\n * @hidden\n */\nconst zIndex = (anchor, container) => {\n    if (!anchor || !isDocumentAvailable() || !isWindowAvailable()) {\n        return null;\n    }\n    const sibling = siblingContainer(anchor, container);\n    if (!sibling) {\n        return null;\n    }\n    const result = [anchor].concat(parents(anchor, sibling)).reduce((index, p) => {\n        const zIndexStyle = p.style.zIndex || window.getComputedStyle(p).zIndex;\n        const current = parseInt(zIndexStyle, 10);\n        return current > index ? current : index;\n    }, 0);\n    return result ? (result + 1) : null;\n};\n/**\n * @hidden\n */\nconst scaleRect = (rect, scale) => {\n    if (!rect || scale === 1) {\n        return rect;\n    }\n    return {\n        height: rect.height / scale,\n        left: rect.left / scale,\n        top: rect.top / scale,\n        width: rect.width / scale\n    };\n};\n\n/**\n * Used to set the document scale when using a [scale transform](https://developer.mozilla.org/en-US/docs/Web/CSS/transform-function/scale).\n *\n * The document or container scale is required to compute the popup position correctly. Detecting the scale is not reliable and must be set by providing a value for SCALE. See [Support for Document Scale]({% slug documentscale_popup %}).\n *\n * > Using this token is not necessary for user-applied browser zoom.\n *\n * {% meta height:300 %}\n * {% embed_file scale/app.component.ts preview %}\n * {% embed_file shared/app.module.ts %}\n * {% embed_file shared/main.ts %}\n * {% endmeta %}\n *\n *\n */\nconst SCALE = new InjectionToken('Popup Document Scale');\n\nconst STYLES = [\n    'font-size',\n    'font-family',\n    'font-stretch',\n    'font-style',\n    'font-weight',\n    'line-height'\n];\n/**\n * @hidden\n */\nclass DOMService {\n    addOffset(current, addition) {\n        return {\n            left: current.left + addition.left,\n            top: current.top + addition.top\n        };\n    }\n    addScroll(rect, scroll) {\n        return addScroll(rect, scroll);\n    }\n    align(settings) {\n        return align(settings);\n    }\n    boundingOffset(el) {\n        return boundingOffset(el);\n    }\n    getFontStyles(el) {\n        const window = this.getWindow();\n        if (!window || !el) {\n            return [];\n        }\n        const computedStyles = window.getComputedStyle(el);\n        return STYLES.map(font => ({ key: font, value: computedStyles[font] }));\n    }\n    getWindow() {\n        return isWindowAvailable() ? window : null;\n    }\n    hasOffsetParent(el) {\n        if (!el) {\n            return false;\n        }\n        return !!this.nativeElement(el).offsetParent;\n    }\n    offset(el) {\n        if (!el) {\n            return null;\n        }\n        return offset(el);\n    }\n    offsetAtPoint(el, currentLocation) {\n        if (!el) {\n            return null;\n        }\n        const element = this.nativeElement(el);\n        const { left, top, transition } = element.style;\n        element.style.transition = 'none';\n        element.style.left = `${currentLocation.left}px`;\n        element.style.top = `${currentLocation.top}px`;\n        const currentOffset = offset(element);\n        element.style.left = left;\n        element.style.top = top;\n        // prevents elements with transition to be animated because of the change\n        // eslint-disable-next-line no-unused-expressions\n        element.offsetHeight;\n        element.style.transition = transition;\n        return currentOffset;\n    }\n    nativeElement(el) {\n        if (!el) {\n            return null;\n        }\n        return el.nativeElement || el;\n    }\n    position(element, popup, scale = 1) {\n        if (!element || !popup) {\n            return null;\n        }\n        return positionWithScroll(element, this.nativeElement(popup), scale);\n    }\n    removeScroll(rect, scroll) {\n        return removeScroll(rect, scroll);\n    }\n    restrictToView(settings) {\n        return restrictToView(settings);\n    }\n    scrollPosition(el) {\n        return scrollPosition(this.nativeElement(el));\n    }\n    scrollableParents(el) {\n        return scrollableParents(el);\n    }\n    stackingElementOffset(el) {\n        const relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return null;\n        }\n        return offset(relativeContextElement);\n    }\n    stackingElementScroll(el) {\n        const relativeContextElement = this.getRelativeContextElement(el);\n        if (!relativeContextElement) {\n            return { x: 0, y: 0 };\n        }\n        return {\n            x: relativeContextElement.scrollLeft,\n            y: relativeContextElement.scrollTop\n        };\n    }\n    getRelativeContextElement(el) {\n        if (!el || !hasRelativeStackingContext()) {\n            return null;\n        }\n        let parent = this.nativeElement(el).parentElement;\n        while (parent) {\n            if (window.getComputedStyle(parent).transform !== 'none') {\n                return parent;\n            }\n            parent = parent.parentElement;\n        }\n        return null;\n    }\n    useRelativePosition(el) {\n        return !!this.getRelativeContextElement(el);\n    }\n    windowViewPort(el) {\n        return getWindowViewPort(this.nativeElement(el));\n    }\n    zIndex(anchor, container) {\n        return zIndex(anchor, this.nativeElement(container));\n    }\n    zoomLevel() {\n        if (!isDocumentAvailable() || !isWindowAvailable()) {\n            return 1;\n        }\n        return parseFloat((document.documentElement.clientWidth / window.innerWidth).toFixed(2)) || 1;\n    }\n    isZoomed() {\n        return this.zoomLevel() > 1;\n    }\n}\nDOMService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DOMService, deps: [], target: i0.ɵɵFactoryTarget.Injectable });\nDOMService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DOMService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: DOMService, decorators: [{\n            type: Injectable\n        }] });\n\n/**\n * @hidden\n */\nclass AlignService {\n    constructor(_dom, scale = 1) {\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    alignElement(settings) {\n        const { anchor, element, anchorAlign, elementAlign, margin, offset, positionMode } = settings;\n        const scale = this.scale || 1;\n        const fixedMode = positionMode === 'fixed' || !this._dom.hasOffsetParent(element);\n        const anchorRect = fixedMode ? this.absoluteRect(anchor, element, offset, scale) : this.relativeRect(anchor, element, offset, scale);\n        const elementRect = scaleRect(this._dom.offset(element.nativeElement), scale);\n        const result = this._dom.align({\n            anchorAlign: anchorAlign,\n            anchorRect: anchorRect,\n            elementAlign: elementAlign,\n            elementRect: elementRect,\n            margin\n        });\n        return result;\n    }\n    absoluteRect(anchor, element, offset, scale) {\n        const scrollPos = this.elementScrollPosition(anchor, element);\n        const rect = eitherRect(this._dom.offset(anchor), offset);\n        const stackScale = 2 * scale;\n        const stackScroll = this._dom.stackingElementScroll(element);\n        if (scale !== 1 && stackScroll) {\n            stackScroll.x /= stackScale;\n            stackScroll.y /= stackScale;\n        }\n        const stackOffset = this._dom.stackingElementOffset(element);\n        if (scale !== 1 && stackOffset) {\n            stackOffset.left /= stackScale;\n            stackOffset.top /= stackScale;\n        }\n        return this._dom.removeScroll(this._dom.addScroll(removeStackingOffset(scaleRect(rect, scale), stackOffset), stackScroll), scrollPos);\n    }\n    elementScrollPosition(anchor, element) {\n        return anchor ? { x: 0, y: 0 } : this._dom.scrollPosition(element);\n    }\n    relativeRect(anchor, element, offset, scale) {\n        const rect = eitherRect(this._dom.position(anchor, element, scale), offset);\n        return scaleRect(rect, scale);\n    }\n}\nAlignService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AlignService, deps: [{ token: DOMService }, { token: SCALE, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nAlignService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AlignService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AlignService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SCALE]\n                }, {\n                    type: Optional\n                }] }]; } });\n\n/**\n * @hidden\n */\nclass PositionService {\n    constructor(_dom, scale = 1) {\n        this._dom = _dom;\n        this.scale = scale;\n    }\n    positionElement(settings) {\n        const { anchor, currentLocation, element, anchorAlign, elementAlign, collisions, margin } = settings;\n        const dom = this._dom;\n        const scale = this.scale || 1;\n        const elementOffset = dom.offsetAtPoint(element, currentLocation);\n        const elementRect = scaleRect(elementOffset, scale);\n        const anchorOffset = scaleRect(dom.offset(anchor), scale);\n        const anchorRect = eitherRect(anchorOffset, currentLocation);\n        const viewPort = settings.viewPort || dom.windowViewPort(element);\n        viewPort.width = viewPort.width / scale;\n        viewPort.height = viewPort.height / scale;\n        const result = dom.restrictToView({\n            anchorAlign,\n            anchorRect,\n            collisions,\n            elementAlign,\n            elementRect,\n            margin,\n            viewPort\n        });\n        const offset = dom.addOffset(currentLocation, result.offset);\n        return {\n            flip: result.flip,\n            flipped: result.flipped,\n            offset: offset\n        };\n    }\n}\nPositionService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PositionService, deps: [{ token: DOMService }, { token: SCALE, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPositionService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PositionService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PositionService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: undefined, decorators: [{\n                    type: Inject,\n                    args: [SCALE]\n                }, {\n                    type: Optional\n                }] }]; } });\n\n/**\n * @hidden\n */\nclass ResizeService {\n    constructor(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    subscribe(callback) {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        this._zone.runOutsideAngular(() => {\n            this.subscription = fromEvent(this._dom.getWindow(), \"resize\")\n                .pipe(auditTime(FRAME_DURATION))\n                .subscribe(() => callback());\n        });\n    }\n    unsubscribe() {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    }\n    isUnsubscribed() {\n        return this.subscription && this.subscription.closed;\n    }\n}\nResizeService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ResizeService, deps: [{ token: DOMService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\nResizeService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ResizeService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ResizeService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: i0.NgZone }]; } });\n\n/**\n * @hidden\n */\nconst THRESHOLD_DIFF = 1;\n/**\n * @hidden\n */\nclass ScrollableService {\n    constructor(_dom, _zone) {\n        this._dom = _dom;\n        this._zone = _zone;\n    }\n    forElement(element) {\n        this.unsubscribe();\n        this.element = element;\n        return this;\n    }\n    subscribe(callback) {\n        if (!callback || !isDocumentAvailable() || !this.element) {\n            return;\n        }\n        const parents = this._dom.scrollableParents(this.element);\n        this._zone.runOutsideAngular(() => {\n            const observables = parents.map(p => fromEvent(p, \"scroll\").pipe(auditTime(FRAME_DURATION)));\n            const subscriber = (e) => {\n                const target = e.target;\n                const isParent = parents.filter(p => p === target).length > 0;\n                const isDocument = target === document;\n                const isWindow = target === window;\n                if (isParent || isDocument || isWindow) {\n                    callback(this.isVisible(this.element, target));\n                }\n            };\n            this.subscription = merge(...observables).subscribe(subscriber);\n        });\n    }\n    unsubscribe() {\n        if (!this.subscription) {\n            return;\n        }\n        this.subscription.unsubscribe();\n    }\n    isVisible(elem, container) {\n        const elemRect = this._dom.boundingOffset(elem);\n        const containerRect = this._dom.boundingOffset(this._dom.nativeElement(container));\n        if (THRESHOLD_DIFF < (containerRect.top - elemRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.top - containerRect.bottom)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (elemRect.left - containerRect.right)) {\n            return false;\n        }\n        if (THRESHOLD_DIFF < (containerRect.left - elemRect.right)) {\n            return false;\n        }\n        return true;\n    }\n}\nScrollableService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ScrollableService, deps: [{ token: DOMService }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Injectable });\nScrollableService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ScrollableService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: ScrollableService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: DOMService }, { type: i0.NgZone }]; } });\n\nconst LEFT = 'left';\nconst RIGHT = 'right';\nconst DOWN = 'down';\nconst UP = 'up';\nconst DEFAULT_TYPE = 'slide';\nconst DEFAULT_DURATION = 100;\nconst animationTypes = {};\nanimationTypes.expand = (direction) => {\n    const scale = direction === UP || direction === DOWN ? 'scaleY' : 'scaleX';\n    const startScale = 0;\n    const endScale = 1;\n    let origin;\n    if (direction === DOWN) {\n        origin = 'top';\n    }\n    else if (direction === LEFT) {\n        origin = RIGHT;\n    }\n    else if (direction === RIGHT) {\n        origin = LEFT;\n    }\n    else {\n        origin = 'bottom';\n    }\n    return {\n        start: { transform: `${scale}(${startScale})`, transformOrigin: origin },\n        end: { transform: `${scale}(${endScale})` }\n    };\n};\nanimationTypes.slide = (direction) => {\n    const translate = direction === LEFT || direction === RIGHT ? 'translateX' : 'translateY';\n    const start = direction === RIGHT || direction === DOWN ? -100 : 100;\n    const end = 0;\n    return {\n        start: { transform: `${translate}(${start}%)` },\n        end: { transform: `${translate}(${end}%)` }\n    };\n};\nanimationTypes.fade = () => {\n    return {\n        start: { opacity: 0 },\n        end: { opacity: 1 }\n    };\n};\nanimationTypes.zoom = () => {\n    const start = 0;\n    const end = 1;\n    return {\n        start: { transform: `scale(${start})` },\n        end: { transform: `scale(${end})` }\n    };\n};\n/**\n * @hidden\n */\nclass AnimationService {\n    constructor(animationBuilder) {\n        this.animationBuilder = animationBuilder;\n        this.start = new EventEmitter();\n        this.end = new EventEmitter();\n    }\n    play(element, options, flip) {\n        if (!this.flip || this.flip.horizontal !== flip.horizontal ||\n            this.flip.vertical !== flip.vertical) {\n            this.flip = flip;\n            const type = options.type || DEFAULT_TYPE;\n            const statesFn = animationTypes[type];\n            if (statesFn) {\n                const direction = this.getDirection(flip, options);\n                const states = statesFn(direction);\n                this.playStates(element, states, options);\n            }\n            else if (isDevMode()) {\n                throw new Error(`Unsupported animation type: \"${type}\". The supported types are slide, expand, fade and zoom.`);\n            }\n        }\n    }\n    ngOnDestroy() {\n        this.stopPlayer();\n    }\n    playStates(element, states, options) {\n        this.stopPlayer();\n        const duration = options.duration || DEFAULT_DURATION;\n        const factory = this.animationBuilder.build([\n            style(states.start),\n            animate(`${duration}ms ease-in`, style(states.end))\n        ]);\n        const player = this.player = factory.create(element);\n        player.onDone(() => {\n            this.end.emit();\n            this.stopPlayer();\n        });\n        this.start.emit();\n        player.play();\n    }\n    getDirection(flip, options) {\n        let direction = options.direction || DOWN;\n        if (flip.horizontal) {\n            if (direction === LEFT) {\n                direction = RIGHT;\n            }\n            else if (direction === RIGHT) {\n                direction = LEFT;\n            }\n        }\n        if (flip.vertical) {\n            if (direction === DOWN) {\n                direction = UP;\n            }\n            else if (direction === UP) {\n                direction = DOWN;\n            }\n        }\n        return direction;\n    }\n    stopPlayer() {\n        if (this.player) {\n            this.player.destroy();\n            this.player = null;\n        }\n    }\n}\nAnimationService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AnimationService, deps: [{ token: i1.AnimationBuilder }], target: i0.ɵɵFactoryTarget.Injectable });\nAnimationService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AnimationService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: AnimationService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i1.AnimationBuilder }]; } });\n\n/**\n * @hidden\n */\nconst packageMetadata = {\n    name: '@progress/kendo-angular-popup',\n    productName: 'Kendo UI for Angular',\n    productCodes: ['KENDOUIANGULAR', 'KENDOUICOMPLETE'],\n    publishDate: 1668698035,\n    version: '',\n    licensingDocsUrl: 'https://www.telerik.com/kendo-angular-ui/my-license/?utm_medium=product&utm_source=kendoangular&utm_campaign=kendo-ui-angular-purchase-license-keys-warning'\n};\n\nconst DEFAULT_OFFSET = { left: -10000, top: 0 };\nconst ANIMATION_CONTAINER = 'k-animation-container';\nconst ANIMATION_CONTAINER_FIXED = 'k-animation-container-fixed';\n/**\n * Represents the [Kendo UI Popup component for Angular]({% slug overview_popup %}).\n *\n * @example\n * ```ts\n * _@Component({\n * selector: 'my-app',\n * template: `\n *  <button #anchor (click)=\"show=!show\">Toggle</button>\n *  <kendo-popup *ngIf=\"show\" [anchor]=\"anchor\">\n *      <strong>Popup content!</strong>\n *  </kendo-popup>\n * `\n * })\n * class AppComponent {\n *   public show: boolean = false;\n * }\n * ```\n */\nclass PopupComponent {\n    constructor(container, _alignService, domService, _positionService, _resizeService, _scrollableService, animationService, _renderer, _zone) {\n        this.container = container;\n        this._alignService = _alignService;\n        this.domService = domService;\n        this._positionService = _positionService;\n        this._resizeService = _resizeService;\n        this._scrollableService = _scrollableService;\n        this.animationService = animationService;\n        this._renderer = _renderer;\n        this._zone = _zone;\n        /**\n         * Controls the Popup animation. By default, the opening and closing animations\n         * are enabled ([see example]({% slug animations_popup %})).\n         */\n        this.animate = true;\n        /**\n         * Specifies the anchor pivot point\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.anchorAlign = { horizontal: 'left', vertical: 'bottom' };\n        /**\n         * Configures the collision behavior of the Popup\n         * ([see example]({% slug viewportboundarydetection_popup %})).\n         */\n        this.collision = { horizontal: 'fit', vertical: 'flip' };\n        /**\n         * Specifies the pivot point of the Popup\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-positioning)).\n         */\n        this.popupAlign = { horizontal: 'left', vertical: 'top' };\n        /**\n         * Controls whether the component will copy the `anchor` font styles.\n         */\n        this.copyAnchorStyles = false;\n        /**\n         * Specifies the position mode of the component. By default, the Popup uses fixed positioning.\n         * To make the Popup acquire absolute positioning, set this option to `absolute`.\n         *\n         * > If you need to support mobile browsers with the zoom option,\n         * use the `absolute` positioning of the Popup.\n         *\n         * @example\n         * ```html\n         * <style>\n         *  .parent-content {\n         *     position: relative;\n         *     width: 200px;\n         *     height: 200px;\n         *     overflow: auto;\n         *     margin: 200px auto;\n         *     border: 1px solid red;\n         *  }\n         *  .content {\n         *     position: relative;\n         *     width: 100px;\n         *     height: 100px;\n         *     overflow: auto;\n         *     margin: 300px;\n         *     border: 1px solid blue;\n         *  }\n         *  .anchor {\n         *     position: absolute;\n         *     top: 200px;\n         *     left: 200px;\n         *  }\n         * </style>\n         * ```\n         * ```ts\n         * _@Component({\n         * selector: 'my-app',\n         * template: `\n         *   <div class=\"example-config\">\n         *      Position mode:\n         *      <label><input type=\"radio\" value=\"fixed\" [(ngModel)]=\"mode\" /> Fixed</label>\n         *      <label><input type=\"radio\" value=\"absolute\" [(ngModel)]=\"mode\" /> Absolute</label>\n         *   </div>\n         *   <div class=\"example-config\">\n         *       Append to\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"1\" [(ngModel)]=\"checked\" />\n         *           Root component\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"2\" [(ngModel)]=\"checked\" />\n         *           <span style=\"color: red\">Red Container</span>\n         *       </label>\n         *       <label>\n         *           <input type=\"radio\" name=\"place\" [value]=\"3\" [(ngModel)]=\"checked\" />\n         *           <span style=\"color: blue\">Blue Container</span>\n         *       </label>\n         *   </div>\n         *   <div class=\"example\">\n         *     <div class=\"parent-content\" [scrollLeft]=\"250\" [scrollTop]=\"230\">\n         *         <div class=\"content\" [scrollLeft]=\"170\" [scrollTop]=\"165\">\n         *           <button #anchor class=\"anchor\" (click)=\"show = !show\">Toggle</button>\n         *           <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 3\">\n         *             <ul>\n         *                 <li>Item1</li>\n         *                 <li>Item2</li>\n         *                 <li>Item3</li>\n         *             </ul>\n         *           </kendo-popup>\n         *           <span style=\"position: absolute; top: 400px; left: 400px\">Bottom/Right</span>\n         *         </div>\n         *         <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 2\">\n         *           <ul>\n         *               <li>Item1</li>\n         *               <li>Item2</li>\n         *               <li>Item3</li>\n         *           </ul>\n         *         </kendo-popup>\n         *         <span style=\"position: absolute; top: 600px; left: 600px\">Bottom/Right</span>\n         *     </div>\n         *     <kendo-popup [positionMode]=\"mode\" [anchor]=\"anchor\" (anchorViewportLeave)=\"show=false\" *ngIf=\"show && checked === 1\">\n         *       <ul>\n         *           <li>Item1</li>\n         *           <li>Item2</li>\n         *           <li>Item3</li>\n         *       </ul>\n         *     </kendo-popup>\n         *   </div>\n         * `\n         * })\n         * class AppComponent {\n         *   public checked: number = 3;\n         *   public mode: string = 'absolute';\n         *   public show: boolean = true;\n         * }\n         * ```\n         */\n        this.positionMode = 'fixed';\n        /**\n         * Specifies the absolute position of the element\n         * ([see example]({% slug alignmentpositioning_popup %}#toc-aligning-to-absolute-points)).\n         * The Popup opens next to that point. The Popup pivot point is defined by the `popupAlign` configuration option.\n         * The boundary detection is applied by using the window viewport.\n         */\n        this.offset = DEFAULT_OFFSET;\n        /**\n         * Fires when the anchor is scrolled outside the screen boundaries.\n         * ([see example]({% slug closing_popup %}#toc-after-leaving-the-viewport)).\n         */\n        this.anchorViewportLeave = new EventEmitter();\n        /**\n         * Fires after the component is closed.\n         */\n        this.close = new EventEmitter();\n        /**\n         * Fires after the component is opened and the opening animation ends.\n         */\n        this.open = new EventEmitter();\n        /**\n         * Fires after the component is opened and the Popup is positioned.\n         */\n        this.positionChange = new EventEmitter();\n        this.resolvedPromise = Promise.resolve(null);\n        this.initialCheck = true;\n        validatePackage(packageMetadata);\n        this._renderer.addClass(container.nativeElement, ANIMATION_CONTAINER);\n        this.updateFixedClass();\n    }\n    ngOnInit() {\n        this.reposition = this.reposition.bind(this);\n        this._resizeService.subscribe(this.reposition);\n        this.animationSubscriptions = this.animationService.start.subscribe(this.onAnimationStart.bind(this));\n        this.animationSubscriptions.add(this.animationService.end.subscribe(this.onAnimationEnd.bind(this)));\n        this._scrollableService.forElement(this.domService.nativeElement(this.anchor) || this.container.nativeElement).subscribe(this.onScroll.bind(this));\n        this.currentOffset = DEFAULT_OFFSET;\n        this.setZIndex();\n        this.copyFontStyles();\n        this.updateFixedClass();\n        this.reposition();\n    }\n    ngOnChanges(changes) {\n        if (changes.copyAnchorStyles) {\n            this.copyFontStyles();\n        }\n        if (changes.positionMode) {\n            this.updateFixedClass();\n        }\n    }\n    ngAfterViewInit() {\n        if (!this.animate) {\n            this.resolvedPromise.then(() => {\n                this.onAnimationEnd();\n            });\n        }\n    }\n    ngAfterViewChecked() {\n        if (this.initialCheck) {\n            this.initialCheck = false;\n            return;\n        }\n        this._zone.runOutsideAngular(() => {\n            // workarounds https://github.com/angular/angular/issues/19094\n            // uses promise because it is executed synchronously after the content is updated\n            // does not use onStable in case the current zone is not the angular one.\n            this.unsubscribeReposition();\n            this.repositionSubscription = from(this.resolvedPromise)\n                .subscribe(this.reposition);\n        });\n    }\n    ngOnDestroy() {\n        this.anchorViewportLeave.complete();\n        this.positionChange.complete();\n        this.close.emit();\n        this.close.complete();\n        this._resizeService.unsubscribe();\n        this._scrollableService.unsubscribe();\n        this.animationSubscriptions.unsubscribe();\n        this.unsubscribeReposition();\n    }\n    /**\n     * @hidden\n     */\n    onResize() {\n        this.reposition();\n    }\n    onAnimationStart() {\n        this._renderer.removeClass(this.container.nativeElement, 'k-animation-container-shown');\n    }\n    onAnimationEnd() {\n        this._renderer.addClass(this.container.nativeElement, 'k-animation-container-shown');\n        this.open.emit();\n        this.open.complete();\n    }\n    get currentOffset() {\n        return this._currentOffset;\n    }\n    set currentOffset(offset) {\n        this.setContainerStyle('left', `${offset.left}px`);\n        this.setContainerStyle('top', `${offset.top}px`);\n        this._currentOffset = offset;\n    }\n    setZIndex() {\n        if (this.anchor) {\n            this.setContainerStyle('z-index', String(this.domService.zIndex(this.domService.nativeElement(this.anchor), this.container)));\n        }\n    }\n    reposition() {\n        if (!isDocumentAvailable()) {\n            return;\n        }\n        const { flip, offset } = this.position();\n        if (!this.currentOffset || isDifferentOffset(this.currentOffset, offset)) {\n            this.currentOffset = offset;\n            if (hasObservers(this.positionChange)) {\n                this._zone.run(() => this.positionChange.emit({ offset, flip }));\n            }\n        }\n        if (this.animate) {\n            this.animationService.play(this.contentContainer.nativeElement, this.animate, flip);\n        }\n        this.resizeSensor.acceptSize();\n    }\n    position() {\n        const alignedOffset = this._alignService.alignElement({\n            anchor: this.domService.nativeElement(this.anchor),\n            anchorAlign: this.anchorAlign,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin,\n            offset: this.offset,\n            positionMode: this.positionMode\n        });\n        return this._positionService.positionElement({\n            anchor: this.domService.nativeElement(this.anchor),\n            anchorAlign: this.anchorAlign,\n            collisions: this.collision,\n            currentLocation: alignedOffset,\n            element: this.container,\n            elementAlign: this.popupAlign,\n            margin: this.margin\n        });\n    }\n    onScroll(isInViewPort) {\n        const hasLeaveObservers = hasObservers(this.anchorViewportLeave);\n        if (isInViewPort || !hasLeaveObservers) {\n            this.reposition();\n        }\n        else if (hasLeaveObservers) {\n            this._zone.run(() => {\n                this.anchorViewportLeave.emit();\n            });\n        }\n    }\n    copyFontStyles() {\n        if (!this.anchor || !this.copyAnchorStyles) {\n            return;\n        }\n        this.domService.getFontStyles(this.domService.nativeElement(this.anchor))\n            .forEach(s => this.setContainerStyle(s.key, s.value));\n    }\n    updateFixedClass() {\n        const action = this.positionMode === 'fixed' ? 'addClass' : 'removeClass';\n        this._renderer[action](this.container.nativeElement, ANIMATION_CONTAINER_FIXED);\n    }\n    setContainerStyle(name, value) {\n        this._renderer.setStyle(this.container.nativeElement, name, value);\n    }\n    unsubscribeReposition() {\n        if (this.repositionSubscription) {\n            this.repositionSubscription.unsubscribe();\n        }\n    }\n}\nPopupComponent.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupComponent, deps: [{ token: i0.ElementRef }, { token: AlignService }, { token: DOMService }, { token: PositionService }, { token: ResizeService }, { token: ScrollableService }, { token: AnimationService }, { token: i0.Renderer2 }, { token: i0.NgZone }], target: i0.ɵɵFactoryTarget.Component });\nPopupComponent.ɵcmp = i0.ɵɵngDeclareComponent({ minVersion: \"12.0.0\", version: \"12.2.16\", type: PopupComponent, selector: \"kendo-popup\", inputs: { animate: \"animate\", anchor: \"anchor\", anchorAlign: \"anchorAlign\", collision: \"collision\", popupAlign: \"popupAlign\", copyAnchorStyles: \"copyAnchorStyles\", popupClass: \"popupClass\", positionMode: \"positionMode\", offset: \"offset\", margin: \"margin\" }, outputs: { anchorViewportLeave: \"anchorViewportLeave\", close: \"close\", open: \"open\", positionChange: \"positionChange\" }, providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService], viewQueries: [{ propertyName: \"contentContainer\", first: true, predicate: [\"container\"], descendants: true, static: true }, { propertyName: \"resizeSensor\", first: true, predicate: ResizeSensorComponent, descendants: true, static: true }], exportAs: [\"kendo-popup\"], usesOnChanges: true, ngImport: i0, template: `\n        <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n            <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n            </kendo-resize-sensor>\n        </div>\n     `, isInline: true, components: [{ type: i7.ResizeSensorComponent, selector: \"kendo-resize-sensor\", inputs: [\"rateLimit\"], outputs: [\"resize\"] }], directives: [{ type: i8.NgClass, selector: \"[ngClass]\", inputs: [\"class\", \"ngClass\"] }, { type: i8.NgTemplateOutlet, selector: \"[ngTemplateOutlet]\", inputs: [\"ngTemplateOutletContext\", \"ngTemplateOutlet\"] }, { type: i8.NgIf, selector: \"[ngIf]\", inputs: [\"ngIf\", \"ngIfThen\", \"ngIfElse\"] }] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupComponent, decorators: [{\n            type: Component,\n            args: [{\n                    exportAs: 'kendo-popup',\n                    providers: [AlignService, AnimationService, DOMService, PositionService, ResizeService, ScrollableService],\n                    selector: 'kendo-popup',\n                    template: `\n        <div class=\"k-popup\" [ngClass]=\"popupClass\" #container>\n            <ng-content></ng-content>\n            <ng-template [ngTemplateOutlet]=\"content\" [ngIf]=\"content\"></ng-template>\n            <kendo-resize-sensor [rateLimit]=\"100\" (resize)=\"onResize()\">\n            </kendo-resize-sensor>\n        </div>\n     `\n                }]\n        }], ctorParameters: function () { return [{ type: i0.ElementRef }, { type: AlignService }, { type: DOMService }, { type: PositionService }, { type: ResizeService }, { type: ScrollableService }, { type: AnimationService }, { type: i0.Renderer2 }, { type: i0.NgZone }]; }, propDecorators: { animate: [{\n                type: Input\n            }], anchor: [{\n                type: Input\n            }], anchorAlign: [{\n                type: Input\n            }], collision: [{\n                type: Input\n            }], popupAlign: [{\n                type: Input\n            }], copyAnchorStyles: [{\n                type: Input\n            }], popupClass: [{\n                type: Input\n            }], positionMode: [{\n                type: Input\n            }], offset: [{\n                type: Input\n            }], margin: [{\n                type: Input\n            }], anchorViewportLeave: [{\n                type: Output\n            }], close: [{\n                type: Output\n            }], open: [{\n                type: Output\n            }], positionChange: [{\n                type: Output\n            }], contentContainer: [{\n                type: ViewChild,\n                args: ['container', { static: true }]\n            }], resizeSensor: [{\n                type: ViewChild,\n                args: [ResizeSensorComponent, { static: true }]\n            }] } });\n\nconst removeElement = (element) => {\n    if (element && element.parentNode) {\n        element.parentNode.removeChild(element);\n    }\n};\n/**\n * Used to inject the Popup container. If not provided, the first root component of\n * the application is used.\n *\n * > The `POPUP_CONTAINER` can be used only with the [`PopupService`]({% slug service_popup %}) class.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule, POPUP_CONTAINER } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { ElementRef, NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent],\n *     providers: [{\n *       provide: POPUP_CONTAINER,\n *       useFactory: () => {\n *          //return the container ElementRef, where the popup will be injected\n *          return { nativeElement: document.body } as ElementRef;\n *       }\n *     }]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n * ```\n */\nconst POPUP_CONTAINER = new InjectionToken('Popup Container');\n/**\n * A service for opening Popup components dynamically\n * ([see example]({% slug service_popup %})).\n *\n * @export\n * @class PopupService\n */\nclass PopupService {\n    constructor(applicationRef, componentFactoryResolver, injector, container) {\n        this.applicationRef = applicationRef;\n        this.componentFactoryResolver = componentFactoryResolver;\n        this.injector = injector;\n        this.container = container;\n    }\n    /**\n     * Gets the root view container into which the component will be injected.\n     *\n     * @returns {ComponentRef<any>}\n     */\n    get rootViewContainer() {\n        // https://github.com/angular/angular/blob/4.0.x/packages/core/src/application_ref.ts#L571\n        const rootComponents = this.applicationRef.components || [];\n        if (rootComponents[0]) {\n            return rootComponents[0];\n        }\n        throw new Error(`\n            View Container not found! Inject the POPUP_CONTAINER or define a specific ViewContainerRef via the appendTo option.\n            See http://www.telerik.com/kendo-angular-ui/components/popup/api/POPUP_CONTAINER/ for more details.\n        `);\n    }\n    /**\n     * Sets or gets the HTML element of the root component container.\n     *\n     * @returns {HTMLElement}\n     */\n    get rootViewContainerNode() {\n        return this.container ? this.container.nativeElement : this.getComponentRootNode(this.rootViewContainer);\n    }\n    /**\n     * Opens a Popup component. Created Popups are mounted\n     * in the DOM directly in the root application component.\n     *\n     * @param {PopupSettings} options - The options which define the Popup.\n     * @returns {ComponentRef<PopupComponent>} - A reference to the Popup object.\n     *\n     * @example\n     *\n     * ```ts-no-run\n     * _@Component({\n     *   selector: 'my-app',\n     *   template: `\n     *     <ng-template #template>\n     *      Popup content\n     *     </ng-template>\n     *     <button #anchor kendoButton (click)=\"open(anchor, template)\">Open</button>\n     *   `\n     * })\n     * export class AppComponent {\n     *     public popupRef: PopupRef;\n     *\n     *     constructor( private popupService: PopupService ) {}\n     *\n     *     public open(anchor: ElementRef, template: TemplateRef<any>): void {\n     *         if (this.popupRef) {\n     *              this.popupRef.close();\n     *              this.popupRef = null;\n     *              return;\n     *         }\n     *\n     *         this.popupRef = this.popupService.open({\n     *           anchor: anchor,\n     *           content: template\n     *         });\n     *     }\n     * }\n     * ```\n     */\n    open(options = {}) {\n        const { component, nodes } = this.contentFrom(options.content);\n        const popupComponentRef = this.appendPopup(nodes, options.appendTo);\n        const popupInstance = popupComponentRef.instance;\n        this.projectComponentInputs(popupComponentRef, options);\n        popupComponentRef.changeDetectorRef.detectChanges();\n        if (component) {\n            component.changeDetectorRef.detectChanges();\n        }\n        const popupElement = this.getComponentRootNode(popupComponentRef);\n        return {\n            close: () => {\n                if (component) {\n                    component.destroy();\n                }\n                popupComponentRef.destroy();\n                // Angular will not remove the element unless the change detection is triggered\n                removeElement(popupElement);\n            },\n            content: component,\n            popup: popupComponentRef,\n            popupAnchorViewportLeave: popupInstance.anchorViewportLeave,\n            popupClose: popupInstance.close,\n            popupElement: popupElement,\n            popupOpen: popupInstance.open,\n            popupPositionChange: popupInstance.positionChange\n        };\n    }\n    appendPopup(nodes, container) {\n        const popupComponentRef = this.createComponent(PopupComponent, nodes, container);\n        if (!container) {\n            this.rootViewContainerNode.appendChild(this.getComponentRootNode(popupComponentRef));\n        }\n        return popupComponentRef;\n    }\n    /**\n     * Gets the HTML element for a component reference.\n     *\n     * @param {ComponentRef<any>} componentRef\n     * @returns {HTMLElement}\n     */\n    getComponentRootNode(componentRef) {\n        return componentRef.location.nativeElement;\n    }\n    /**\n     * Gets the `ComponentFactory` instance by its type.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    getComponentFactory(componentClass) {\n        return this.componentFactoryResolver.resolveComponentFactory(componentClass);\n    }\n    /**\n     * Creates a component reference from a `Component` type class.\n     *\n     * @param {*} componentClass\n     * @param {*} nodes\n     * @returns {ComponentRef<any>}\n     */\n    createComponent(componentClass, nodes, container) {\n        const factory = this.getComponentFactory(componentClass);\n        if (container) {\n            return container.createComponent(factory, undefined, this.injector, nodes);\n        }\n        else {\n            const component = factory.create(this.injector, nodes);\n            this.applicationRef.attachView(component.hostView);\n            return component;\n        }\n    }\n    /**\n     * Projects the inputs on the component.\n     *\n     * @param {ComponentRef<any>} component\n     * @param {*} options\n     * @returns {ComponentRef<any>}\n     */\n    projectComponentInputs(component, options) {\n        Object.getOwnPropertyNames(options)\n            .filter(prop => prop !== 'content' || options.content instanceof TemplateRef)\n            .map((prop) => {\n            component.instance[prop] = options[prop];\n        });\n        return component;\n    }\n    /**\n     * Gets the component and the nodes to append from the `content` option.\n     *\n     * @param {*} content\n     * @returns {any}\n     */\n    contentFrom(content) {\n        if (!content || content instanceof TemplateRef) {\n            return { component: null, nodes: [[]] };\n        }\n        const component = this.createComponent(content);\n        const nodes = component ? [component.location.nativeElement] : [];\n        return {\n            component: component,\n            nodes: [\n                nodes // <ng-content>\n            ]\n        };\n    }\n}\nPopupService.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupService, deps: [{ token: i0.ApplicationRef }, { token: i0.ComponentFactoryResolver }, { token: i0.Injector }, { token: POPUP_CONTAINER, optional: true }], target: i0.ɵɵFactoryTarget.Injectable });\nPopupService.ɵprov = i0.ɵɵngDeclareInjectable({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupService });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupService, decorators: [{\n            type: Injectable\n        }], ctorParameters: function () { return [{ type: i0.ApplicationRef }, { type: i0.ComponentFactoryResolver }, { type: i0.Injector }, { type: i0.ElementRef, decorators: [{\n                    type: Inject,\n                    args: [POPUP_CONTAINER]\n                }, {\n                    type: Optional\n                }] }]; } });\n\nconst POPUP_DIRECTIVES = [PopupComponent];\n/**\n * Represents the [NgModule](link:site.data.urls.angular['ngmoduleapi'])\n * definition for the Popup component.\n *\n * @example\n *\n * ```ts-no-run\n * // Import the Popup module\n * import { PopupModule } from '@progress/kendo-angular-popup';\n *\n * // The browser platform with a compiler\n * import { platformBrowserDynamic } from '@angular/platform-browser-dynamic';\n *\n * import { NgModule } from '@angular/core';\n *\n * // Import the app component\n * import { AppComponent } from './app.component';\n *\n * // Define the app module\n * _@NgModule({\n *     declarations: [AppComponent], // declare app component\n *     imports:      [BrowserModule, PopupModule], // import Popup module\n *     bootstrap:    [AppComponent]\n * })\n * export class AppModule {}\n *\n * // Compile and launch the module\n * platformBrowserDynamic().bootstrapModule(AppModule);\n *\n * ```\n */\nclass PopupModule {\n}\nPopupModule.ɵfac = i0.ɵɵngDeclareFactory({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, deps: [], target: i0.ɵɵFactoryTarget.NgModule });\nPopupModule.ɵmod = i0.ɵɵngDeclareNgModule({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, declarations: [PopupComponent], imports: [CommonModule, ResizeSensorModule], exports: [PopupComponent] });\nPopupModule.ɵinj = i0.ɵɵngDeclareInjector({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, providers: [PopupService], imports: [[CommonModule, ResizeSensorModule]] });\ni0.ɵɵngDeclareClassMetadata({ minVersion: \"12.0.0\", version: \"12.2.16\", ngImport: i0, type: PopupModule, decorators: [{\n            type: NgModule,\n            args: [{\n                    declarations: [POPUP_DIRECTIVES],\n                    entryComponents: [POPUP_DIRECTIVES],\n                    exports: [POPUP_DIRECTIVES],\n                    imports: [CommonModule, ResizeSensorModule],\n                    providers: [PopupService]\n                }]\n        }] });\n\n/**\n * Generated bundle index. Do not edit.\n */\n\nexport { POPUP_CONTAINER, PopupComponent, PopupModule, PopupService, SCALE };\n\n"]},"metadata":{},"sourceType":"module"}